"use strict";(self.webpackChunknpwd_qb_mail=self.webpackChunknpwd_qb_mail||[]).push([[523],{8320:(e,t,n)=>{n.d(t,{Y8:()=>u,LT:()=>d,JV:()=>p,Wu:()=>c,Ng:()=>s,YQ:()=>f});var r=n(5137),a=[{mailid:2,sender:"Eduardo",subject:"Delivery Location",message:"Here is all info about the delivery, <br><br>Items: <br> 1x Weed Brick<br><br> Be on time!!",read:0,date:1660745412e3,button:{buttonEvent:"qb-drugs:client:setLocation",enabled:!0,buttonData:{dealer:"Eduardo",itemData:{minrep:0,item:"weed_brick"},amount:2,locationLabel:"DR Kush",coords:{x:-1151.9300537109375,y:-1447.5899658203125,z:4.71000003814697}}}},{mailid:1,sender:"Billing Department",subject:"Invoice Paid",message:"Invoice Has Been Paid From Sienna Dunlap In The Amount Of $425",read:1,date:1660653186e3}],i=n(5181),o=n(7405),l={mailItems:(0,r.atom)({key:"mailItem",default:(0,r.selector)({key:"defaultMailItems",get:function(){return e=void 0,t=void 0,r=function(){var e,t;return function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,o.Z)("npwd:qb-mail:getMail")];case 1:return(e=n.sent()).data?[2,e.data]:(console.log("no response data"),[2,[]]);case 2:return t=n.sent(),(0,i.Id)()?[2,a]:(console.error(t),[2,[]]);case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r}})}),selectedMail:(0,r.atom)({key:"selectedMail",default:null}),modalVisibile:(0,r.atom)({key:"mailModalVisible",default:!1})},u=function(){return(0,r.useRecoilValue)(l.mailItems)},c=function(){return(0,r.useSetRecoilState)(l.mailItems)},s=function(){return(0,r.useSetRecoilState)(l.modalVisibile)},d=function(){return(0,r.useRecoilState)(l.modalVisibile)},f=function(){return(0,r.useSetRecoilState)(l.selectedMail)},p=function(){return(0,r.useRecoilState)(l.selectedMail)}},1551:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(2950),a=n.n(r),i=n(4274),o=n(1508),l=n(2658);const u=function(){return a().createElement(o.Z,{px:2,pt:2,sx:{width:"100%",textAlign:"left",backgroundColor:i.A1}},a().createElement(l.Z,{sx:{color:i.Iw},paragraph:!0,variant:"h5"},"Mail"))}},620:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(2950),a=n.n(r),i=n(1508),o=n(2658),l=n(2440),u=n(5266),c=n(8320),s=n(870),d=n(5475),f=n(4766),p=n(4274);const m=function(e){var t=e.isDarkMode,n=(0,c.Y8)(),m=(0,c.YQ)(),h=(0,c.Ng)(),b=(0,s.F)().updateRead,y=(0,f.C)().newMail,v=(0,d.useNuiEvent)({event:"npwd:qb-mail:newMail"}).data;return(0,r.useEffect)((function(){v&&y(v[0])}),[v]),n&&0!==n.length?a().createElement(l.Z,{disablePadding:!0},n.map((function(e){return a().createElement(u.ZP,{key:e.mailid,button:!0,divider:!0,onClick:function(){return function(e){e.read||b(e.mailid),m(e),h(!0)}(e)}},0===e.read?a().createElement(i.Z,{sx:{bgcolor:"#4260f5",borderRadius:"10px",minWidth:"8px",minHeight:"8px",marginRight:"10px"}}):a().createElement(i.Z,{sx:{borderRadius:"10px",minWidth:"8px",minHeight:"8px",marginRight:"10px"}}),a().createElement(i.Z,{sx:{display:"flex",flexDirection:"column",width:"100%"}},a().createElement(i.Z,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},a().createElement(o.Z,{sx:{fontWeight:"500",color:t?"#fff":"#000"}},e.sender),a().createElement(i.Z,{sx:{display:"flex",flexDirection:"column"}},a().createElement(o.Z,{sx:{color:"#dedede",fontSize:"13px"}},(n=e.date,("0"+(r=new Date(n)).getDate()).slice(-2)+"/"+("0"+(r.getMonth()+1)).slice(-2)+"/"+r.getFullYear())))),a().createElement(o.Z,{sx:{color:t?"#fff":"#000"}},e.subject)));var n,r}))):a().createElement(i.Z,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%"},a().createElement(o.Z,{variant:"h6",style:{fontWeight:300,color:p.Iw}},"You have no mail"))}},4530:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(2950),a=n.n(r),i=n(8320),o=n(4776),l=n(6501),u=n(6089),c=n(1508),s=n(6914),d=n(2658),f=n(2116),p=n(1023),m=n(5181),h=n(870),b=n(2265),y=n.n(b);const v=function(){var e=(0,i.LT)(),t=e[0],n=e[1],r=(0,i.JV)(),b=r[0],v=r[1],x=(0,h.F)(),g=x.deleteMail,w=x.updateMailButton;if(null===b)return null;var E=y()(b.message,{whiteList:{br:[],strong:[]}});return a().createElement(o.Z,{direction:"left",in:t,mountOnEnter:!0,unmountOnExit:!0,onExited:function(){v(null)}},a().createElement(l.Z,{sx:{position:"absolute",zIndex:20,height:"100%",width:"100%"},square:!0},a().createElement(u.Z,{sx:{height:"100%"}},a().createElement(c.Z,{sx:{height:"100%"}},a().createElement(c.Z,{pt:2,pb:1},a().createElement(s.Z,{color:"secondary",size:"large",startIcon:a().createElement(p.Z,{fontSize:"large"}),onClick:function(){n(!1)}},"INBOX")),a().createElement(c.Z,{pl:1,pb:"12px"},a().createElement(d.Z,{sx:{fontSize:"20px",fontWeight:500}},b.sender),a().createElement(d.Z,{sx:{fontSize:"19px"}},b.subject),b.date&&a().createElement(d.Z,{sx:{fontSize:"15px",color:"#dedede"}},(0,m.ur)(b.date))),a().createElement(f.Z,null),b.message&&a().createElement(c.Z,{pl:1,pt:"12px",sx:{fontSize:"18px",height:"70%"},dangerouslySetInnerHTML:{__html:E}}),a().createElement(c.Z,{display:"inline",p:1,sx:{display:"flex",gap:"15px",justifyContent:"center"}},void 0!==b.button&&null!==b.button&&a().createElement(s.Z,{color:"success",variant:"contained",onClick:function(){w({mailid:b.mailid,button:b.button}).then((function(){n(!1)})).catch(console.error)}},"ACCEPT"),a().createElement(s.Z,{color:"error",variant:"contained",onClick:function(){g(b.mailid).then((function(){n(!1)})).catch(console.error)}},"DELETE"))))))}},870:(e,t,n)=>{n.d(t,{F:()=>c});var r=n(2950),a=n(721),i=n(4766),o=n(7405),l=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},c=function(){var e=(0,a.D)().addAlert,t=(0,i.C)(),n=t.updateReadState,c=t.deleteLocalMail,s=t.updateLocalButton,d=(0,r.useCallback)((function(e){return l(void 0,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,(0,o.Z)("npwd:qb-mail:updateRead",e)];case 1:return t.sent(),n(e),[2]}}))}))}),[n]),f=(0,r.useCallback)((function(t){return l(void 0,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,(0,o.Z)("npwd:qb-mail:deleteMail",t)];case 1:return"ok"!==n.sent().status?[2,e({message:"Failed to delete mail",type:"error"})]:(c(t),e({message:"Successfully deleted mail",type:"success"}),[2])}}))}))}),[e,c]),p=(0,r.useCallback)((function(t){var n=t.mailid,r=t.button;return l(void 0,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,(0,o.Z)("npwd:qb-mail:updateButton",{mailid:n,button:r})];case 1:return"ok"!==t.sent().status?[2,e({message:"Failed to accept mail",type:"error"})]:(s(n),e({message:"Successfully accepted mail",type:"success"}),[2])}}))}))}),[e,s]);return{updateRead:d,deleteMail:f,updateMailButton:p}}},4766:(e,t,n)=>{n.d(t,{C:()=>l});var r=n(8320),a=n(2950),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},o=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},l=function(){var e=(0,r.Wu)(),t=(0,a.useCallback)((function(t){e((function(e){return e.map((function(e){return e.mailid===t?i(i({},e),{read:1}):e}))}))}),[e]),n=(0,a.useCallback)((function(t){e((function(e){return o([t],e,!0)}))}),[e]),l=(0,a.useCallback)((function(t){e((function(e){var n=e.findIndex((function(e){return e.mailid===t})),r=o([],e,!0);return r[n].button=null,r}))}),[e]);return{updateReadState:t,deleteLocalMail:(0,a.useCallback)((function(t){e((function(e){return o([],e,!0).filter((function(e){return e.mailid!==t}))}))}),[e]),updateLocalButton:l,newMail:n}}},4714:(e,t,n)=>{n.d(t,{v:()=>d});var r=n(2950),a=n.n(r),i=n(5282),o=n(721),l=n(442),u=n(2658),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)};const s=(0,r.forwardRef)((function(e,t){return a().createElement(l.Z,c({sx:{zIndex:1e4},elevation:4,variant:"filled"},e,{ref:t}),a().createElement(u.Z,{sx:{maxWidth:"300px",wordWrap:"break-word",fontSize:"1.1em"}},e.children))}));var d=function(){var e,t=(0,o.D)(),n=t.alert,r=t.isOpen,l=t.handleClose;return a().createElement(i.Z,{autoHideDuration:null!==(e=null==n?void 0:n.duration)&&void 0!==e?e:3e3,open:r,sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"auto",position:"absolute",bottom:75,left:"0 !important",right:"0 !important"},onClose:l},a().createElement(s,{severity:(null==n?void 0:n.type)||"info",onClose:l},(null==n?void 0:n.message)||""))}},602:(e,t,n)=>{n.d(t,{S:()=>i,Z:()=>o});var r=n(2950),a=n.n(r),i=(0,r.createContext)(null);const o=function(e){var t=e.children,n=(0,r.useState)(!1),o=n[0],l=n[1],u=(0,r.useState)(null),c=u[0],s=u[1];return a().createElement(i.Provider,{value:{alert:c,addAlert:function(e){s(e),l(!0)},handleClose:function(){l(!1)},isOpen:o}},t)}},721:(e,t,n)=>{n.d(t,{D:()=>i});var r=n(2950),a=n(602),i=function(){return(0,r.useContext)(a.S)}},7405:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(5181);const a=function(e,t,n){return a=this,i=void 0,l=function(){var a;return function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(i){switch(i.label){case 0:return a={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)},(0,r.Id)()&&n?[2,n]:[4,fetch("https://".concat("npwd_qb_mail","/").concat(e),a)];case 1:return[4,i.sent().json()];case 2:return[2,i.sent()]}}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{u(l.next(e))}catch(e){t(e)}}function r(e){try{u(l.throw(e))}catch(e){t(e)}}function u(t){var a;t.done?e(t.value):(a=t.value,a instanceof o?a:new o((function(e){e(a)}))).then(n,r)}u((l=l.apply(a,i||[])).next())}));var a,i,o,l}},5181:(e,t,n)=>{n.d(t,{Id:()=>r,ur:()=>o});var r=function(){return!1},a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=function(e){var t=new Date(e);return a[t.getDay()]+", "+i[t.getMonth()]+" "+("0"+t.getDate()).slice(-2)+" "+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVVkLEVBQVNDLEVBQVlxQyxFQUFHcEMsSSwwQ0NBdkUsSUFBSXVNLEVBQWUsV0FDdEIsT0FBTyxHQVVQQyxFQUFnQixDQUNoQixTQUNBLFNBQ0EsVUFDQSxZQUNBLFdBQ0EsU0FDQSxZQUVBQyxFQUFrQixDQUNsQixVQUNBLFdBQ0EsUUFDQSxRQUNBLE1BQ0EsT0FDQSxPQUNBLFNBQ0EsWUFDQSxVQUNBLFdBQ0EsWUFFT0MsRUFBYSxTQUFVQyxHQUM5QixJQUFJbk8sRUFBTyxJQUFJbUgsS0FBS2dILEdBQ3BCLE9BQVFILEVBQWNoTyxFQUFLb08sVUFDdkIsS0FDQUgsRUFBZ0JqTyxFQUFLc0gsWUFDckIsS0FDQyxJQUFNdEgsRUFBS29ILFdBQVdDLE9BQU8sR0FDOUIsSUFDQXJILEVBQUt1SCxjQUNMLElBQ0F2SCxFQUFLcU8sV0FDTCxJQUNBck8sRUFBS3NPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnB3ZF9xYl9tYWlsLy4vc3JjL3V0aWxzL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9ucHdkX3FiX21haWwvLi9zcmMvYXRvbXMvbWFpbC1hdG9tcy50cyIsIndlYnBhY2s6Ly9ucHdkX3FiX21haWwvLi9zcmMvY29tcG9uZW50cy9IZWFkZXIudHN4Iiwid2VicGFjazovL25wd2RfcWJfbWFpbC8uL3NyYy9jb21wb25lbnRzL01haWxMaXN0LnRzeCIsIndlYnBhY2s6Ly9ucHdkX3FiX21haWwvLi9zcmMvY29tcG9uZW50cy9NYWlsTW9kYWwudHN4Iiwid2VicGFjazovL25wd2RfcWJfbWFpbC8uL3NyYy9ob29rcy91c2VNYWlsQVBJLnRzIiwid2VicGFjazovL25wd2RfcWJfbWFpbC8uL3NyYy9ob29rcy91c2VNYWlsQWN0aW9ucy50cyIsIndlYnBhY2s6Ly9ucHdkX3FiX21haWwvLi9zcmMvc25hY2tiYXIvQWxlcnQudHN4Iiwid2VicGFjazovL25wd2RfcWJfbWFpbC8uL3NyYy9zbmFja2Jhci9QaG9uZVNuYWNrYmFyLnRzeCIsIndlYnBhY2s6Ly9ucHdkX3FiX21haWwvLi9zcmMvc25hY2tiYXIvU25hY2tiYXJQcm92aWRlci50c3giLCJ3ZWJwYWNrOi8vbnB3ZF9xYl9tYWlsLy4vc3JjL3NuYWNrYmFyL3VzZVNuYWNrYmFyLnRzIiwid2VicGFjazovL25wd2RfcWJfbWFpbC8uL3NyYy91dGlscy9mZXRjaE51aS50cyIsIndlYnBhY2s6Ly9ucHdkX3FiX21haWwvLi9zcmMvdXRpbHMvbWlzYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIE1vY2tNYWlsID0gW1xuICAgIHtcbiAgICAgICAgbWFpbGlkOiAyLFxuICAgICAgICBzZW5kZXI6ICdFZHVhcmRvJyxcbiAgICAgICAgc3ViamVjdDogJ0RlbGl2ZXJ5IExvY2F0aW9uJyxcbiAgICAgICAgbWVzc2FnZTogJ0hlcmUgaXMgYWxsIGluZm8gYWJvdXQgdGhlIGRlbGl2ZXJ5LCA8YnI+PGJyPkl0ZW1zOiA8YnI+IDF4IFdlZWQgQnJpY2s8YnI+PGJyPiBCZSBvbiB0aW1lISEnLFxuICAgICAgICByZWFkOiAwLFxuICAgICAgICBkYXRlOiAxNjYwNzQ1NDEyMDAwLFxuICAgICAgICBidXR0b246IHtcbiAgICAgICAgICAgIGJ1dHRvbkV2ZW50OiAncWItZHJ1Z3M6Y2xpZW50OnNldExvY2F0aW9uJyxcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICBidXR0b25EYXRhOiB7XG4gICAgICAgICAgICAgICAgZGVhbGVyOiAnRWR1YXJkbycsXG4gICAgICAgICAgICAgICAgaXRlbURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgbWlucmVwOiAwLFxuICAgICAgICAgICAgICAgICAgICBpdGVtOiAnd2VlZF9icmljaycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IDIsXG4gICAgICAgICAgICAgICAgbG9jYXRpb25MYWJlbDogJ0RSIEt1c2gnLFxuICAgICAgICAgICAgICAgIGNvb3Jkczoge1xuICAgICAgICAgICAgICAgICAgICB4OiAtMTE1MS45MzAwNTM3MTA5Mzc1LFxuICAgICAgICAgICAgICAgICAgICB5OiAtMTQ0Ny41ODk5NjU4MjAzMTI1LFxuICAgICAgICAgICAgICAgICAgICB6OiA0LjcxMDAwMDAzODE0Njk3LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBtYWlsaWQ6IDEsXG4gICAgICAgIHNlbmRlcjogJ0JpbGxpbmcgRGVwYXJ0bWVudCcsXG4gICAgICAgIHN1YmplY3Q6ICdJbnZvaWNlIFBhaWQnLFxuICAgICAgICBtZXNzYWdlOiAnSW52b2ljZSBIYXMgQmVlbiBQYWlkIEZyb20gU2llbm5hIER1bmxhcCBJbiBUaGUgQW1vdW50IE9mICQ0MjUnLFxuICAgICAgICByZWFkOiAxLFxuICAgICAgICBkYXRlOiAxNjYwNjUzMTg2MDAwLjAsXG4gICAgfSxcbl07XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuaW1wb3J0IHsgYXRvbSwgc2VsZWN0b3IsIHVzZVJlY29pbFN0YXRlLCB1c2VSZWNvaWxWYWx1ZSwgdXNlU2V0UmVjb2lsU3RhdGUgfSBmcm9tICdyZWNvaWwnO1xuaW1wb3J0IHsgTW9ja01haWwgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNFbnZCcm93c2VyIH0gZnJvbSAnLi4vdXRpbHMvbWlzYyc7XG5pbXBvcnQgZmV0Y2hOdWkgZnJvbSAnLi4vdXRpbHMvZmV0Y2hOdWknO1xuZXhwb3J0IHZhciBtYWlsU3RhdGVzID0ge1xuICAgIG1haWxJdGVtczogYXRvbSh7XG4gICAgICAgIGtleTogJ21haWxJdGVtJyxcbiAgICAgICAgZGVmYXVsdDogc2VsZWN0b3Ioe1xuICAgICAgICAgICAga2V5OiAnZGVmYXVsdE1haWxJdGVtcycsXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3AsIGVfMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzAsIDIsICwgM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoTnVpKCducHdkOnFiLW1haWw6Z2V0TWFpbCcpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdubyByZXNwb25zZSBkYXRhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBbXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNwLmRhdGFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbnZCcm93c2VyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIE1vY2tNYWlsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBbXV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7IH0sXG4gICAgICAgIH0pLFxuICAgIH0pLFxuICAgIHNlbGVjdGVkTWFpbDogYXRvbSh7XG4gICAgICAgIGtleTogJ3NlbGVjdGVkTWFpbCcsXG4gICAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgfSksXG4gICAgbW9kYWxWaXNpYmlsZTogYXRvbSh7XG4gICAgICAgIGtleTogJ21haWxNb2RhbFZpc2libGUnLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9KSxcbn07XG5leHBvcnQgdmFyIHVzZU1haWxzVmFsdWUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1c2VSZWNvaWxWYWx1ZShtYWlsU3RhdGVzLm1haWxJdGVtcyk7IH07XG5leHBvcnQgdmFyIHVzZVNldE1haWwgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1c2VTZXRSZWNvaWxTdGF0ZShtYWlsU3RhdGVzLm1haWxJdGVtcyk7IH07XG5leHBvcnQgdmFyIHVzZVNldE1vZGFsVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVzZVNldFJlY29pbFN0YXRlKG1haWxTdGF0ZXMubW9kYWxWaXNpYmlsZSk7IH07XG5leHBvcnQgdmFyIHVzZU1vZGFsVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVzZVJlY29pbFN0YXRlKG1haWxTdGF0ZXMubW9kYWxWaXNpYmlsZSk7IH07XG5leHBvcnQgdmFyIHVzZVNldFNlbGVjdGVkTWFpbCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVzZVNldFJlY29pbFN0YXRlKG1haWxTdGF0ZXMuc2VsZWN0ZWRNYWlsKTsgfTtcbmV4cG9ydCB2YXIgdXNlU2VsZWN0ZWRNYWlsID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdXNlUmVjb2lsU3RhdGUobWFpbFN0YXRlcy5zZWxlY3RlZE1haWwpOyB9O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE1BSUxfQVBQX1BSSU1BUllfQ09MT1IsIE1BSUxfQVBQX1RFWFRfQ09MT1IgfSBmcm9tICcuLi9hcHAudGhlbWUnO1xuaW1wb3J0IHsgVHlwb2dyYXBoeSwgQm94IH0gZnJvbSAnQG11aS9tYXRlcmlhbCc7XG52YXIgSGVhZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgcHg6IDIsIHB0OiAyLCBzeDogeyB3aWR0aDogJzEwMCUnLCB0ZXh0QWxpZ246ICdsZWZ0JywgYmFja2dyb3VuZENvbG9yOiBNQUlMX0FQUF9QUklNQVJZX0NPTE9SIH0gfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHN4OiB7IGNvbG9yOiBNQUlMX0FQUF9URVhUX0NPTE9SIH0sIHBhcmFncmFwaDogdHJ1ZSwgdmFyaWFudDogJ2g1JyB9LCBcIk1haWxcIikpKTtcbn07XG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQm94LCBMaXN0LCBMaXN0SXRlbSwgVHlwb2dyYXBoeSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgdXNlTWFpbHNWYWx1ZSwgdXNlU2V0U2VsZWN0ZWRNYWlsLCB1c2VTZXRNb2RhbFZpc2libGUgfSBmcm9tICcuLi9hdG9tcy9tYWlsLWF0b21zJztcbmltcG9ydCB7IHVzZU1haWxBUEkgfSBmcm9tICcuLi9ob29rcy91c2VNYWlsQVBJJztcbmltcG9ydCB7IHVzZU51aUV2ZW50IH0gZnJvbSAncmVhY3QtZml2ZW0taG9va3MnO1xuaW1wb3J0IHsgdXNlTWFpbEFjdGlvbnMgfSBmcm9tICcuLi9ob29rcy91c2VNYWlsQWN0aW9ucyc7XG5pbXBvcnQgeyBNQUlMX0FQUF9URVhUX0NPTE9SIH0gZnJvbSAnLi4vYXBwLnRoZW1lJztcbnZhciBNYWlsTGlzdCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc0RhcmtNb2RlID0gX2EuaXNEYXJrTW9kZTtcbiAgICB2YXIgbWFpbHMgPSB1c2VNYWlsc1ZhbHVlKCk7XG4gICAgdmFyIHNldE1haWwgPSB1c2VTZXRTZWxlY3RlZE1haWwoKTtcbiAgICB2YXIgc2V0TW9kYWxWaXNpYmxlID0gdXNlU2V0TW9kYWxWaXNpYmxlKCk7XG4gICAgdmFyIHVwZGF0ZVJlYWQgPSB1c2VNYWlsQVBJKCkudXBkYXRlUmVhZDtcbiAgICB2YXIgbmV3TWFpbCA9IHVzZU1haWxBY3Rpb25zKCkubmV3TWFpbDtcbiAgICB2YXIgZGF0YSA9IHVzZU51aUV2ZW50KHsgZXZlbnQ6ICducHdkOnFiLW1haWw6bmV3TWFpbCcgfSkuZGF0YTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgbmV3TWFpbChkYXRhWzBdKTtcbiAgICAgICAgfVxuICAgIH0sIFtkYXRhXSk7XG4gICAgdmFyIGhhbmRsZU1haWxNb2RhbCA9IGZ1bmN0aW9uIChtYWlsKSB7XG4gICAgICAgIGlmICghbWFpbC5yZWFkKSB7XG4gICAgICAgICAgICB1cGRhdGVSZWFkKG1haWwubWFpbGlkKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRNYWlsKG1haWwpO1xuICAgICAgICBzZXRNb2RhbFZpc2libGUodHJ1ZSk7XG4gICAgfTtcbiAgICB2YXIgbWFpbERhdGUgPSBmdW5jdGlvbiAoZGF0ZURhdGEpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShkYXRlRGF0YSk7XG4gICAgICAgIHJldHVybiAoKCcwJyArIGRhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMikgK1xuICAgICAgICAgICAgJy8nICtcbiAgICAgICAgICAgICgnMCcgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkpLnNsaWNlKC0yKSArXG4gICAgICAgICAgICAnLycgK1xuICAgICAgICAgICAgZGF0ZS5nZXRGdWxsWWVhcigpKTtcbiAgICB9O1xuICAgIGlmICghbWFpbHMgfHwgbWFpbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgZGlzcGxheTogXCJmbGV4XCIsIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCBoZWlnaHQ6IFwiMTAwJVwiIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHsgdmFyaWFudDogXCJoNlwiLCBzdHlsZTogeyBmb250V2VpZ2h0OiAzMDAsIGNvbG9yOiBNQUlMX0FQUF9URVhUX0NPTE9SIH0gfSwgXCJZb3UgaGF2ZSBubyBtYWlsXCIpKSk7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0LCB7IGRpc2FibGVQYWRkaW5nOiB0cnVlIH0sIG1haWxzLm1hcChmdW5jdGlvbiAobWFpbCkgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdEl0ZW0sIHsga2V5OiBtYWlsLm1haWxpZCwgYnV0dG9uOiB0cnVlLCBkaXZpZGVyOiB0cnVlLCBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBoYW5kbGVNYWlsTW9kYWwobWFpbCk7IH0gfSxcbiAgICAgICAgbWFpbC5yZWFkID09PSAwID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IHN4OiB7XG4gICAgICAgICAgICAgICAgYmdjb2xvcjogJyM0MjYwZjUnLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzEwcHgnLFxuICAgICAgICAgICAgICAgIG1pbldpZHRoOiAnOHB4JyxcbiAgICAgICAgICAgICAgICBtaW5IZWlnaHQ6ICc4cHgnLFxuICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAnMTBweCcsXG4gICAgICAgICAgICB9IH0pKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBzeDoge1xuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzEwcHgnLFxuICAgICAgICAgICAgICAgIG1pbldpZHRoOiAnOHB4JyxcbiAgICAgICAgICAgICAgICBtaW5IZWlnaHQ6ICc4cHgnLFxuICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAnMTBweCcsXG4gICAgICAgICAgICB9IH0pKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgc3g6IHsgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgd2lkdGg6ICcxMDAlJyB9IH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBzeDoge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHsgc3g6IHsgZm9udFdlaWdodDogJzUwMCcsIGNvbG9yOiBpc0RhcmtNb2RlID8gJyNmZmYnIDogJyMwMDAnIH0gfSwgbWFpbC5zZW5kZXIpLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IHN4OiB7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicgfSB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHsgc3g6IHsgY29sb3I6ICcjZGVkZWRlJywgZm9udFNpemU6ICcxM3B4JyB9IH0sIG1haWxEYXRlKG1haWwuZGF0ZSkpKSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHsgc3g6IHsgY29sb3I6IGlzRGFya01vZGUgPyAnI2ZmZicgOiAnIzAwMCcgfSB9LCBtYWlsLnN1YmplY3QpKSkpOyB9KSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IE1haWxMaXN0O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZU1vZGFsVmlzaWJsZSwgdXNlU2VsZWN0ZWRNYWlsIH0gZnJvbSAnLi4vYXRvbXMvbWFpbC1hdG9tcyc7XG5pbXBvcnQgeyBCdXR0b24sIFNsaWRlLCBQYXBlciwgVHlwb2dyYXBoeSwgQ29udGFpbmVyLCBCb3gsIERpdmlkZXIgfSBmcm9tICdAbXVpL21hdGVyaWFsJztcbmltcG9ydCBBcnJvd0JhY2tJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQXJyb3dCYWNrJztcbmltcG9ydCB7IGRhdGVTdHJpbmcgfSBmcm9tICcuLi91dGlscy9taXNjJztcbmltcG9ydCB7IHVzZU1haWxBUEkgfSBmcm9tICcuLi9ob29rcy91c2VNYWlsQVBJJztcbmltcG9ydCB4c3MgZnJvbSAneHNzJztcbnZhciBNYWlsTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hID0gdXNlTW9kYWxWaXNpYmxlKCksIG1vZGFsVmlzaWJsZSA9IF9hWzBdLCBzZXRNb2RhbFZpc2libGUgPSBfYVsxXTtcbiAgICB2YXIgX2IgPSB1c2VTZWxlY3RlZE1haWwoKSwgc2VsZWN0ZWRNYWlsID0gX2JbMF0sIHNldHNlbGVjdGVkTWFpbCA9IF9iWzFdO1xuICAgIHZhciBfYyA9IHVzZU1haWxBUEkoKSwgZGVsZXRlTWFpbCA9IF9jLmRlbGV0ZU1haWwsIHVwZGF0ZU1haWxCdXR0b24gPSBfYy51cGRhdGVNYWlsQnV0dG9uO1xuICAgIGlmIChzZWxlY3RlZE1haWwgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHZhciBoYW5kbGVEZWxldGVNYWlsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWxldGVNYWlsKHNlbGVjdGVkTWFpbC5tYWlsaWQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRNb2RhbFZpc2libGUoZmFsc2UpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZVN1Ym1pdEJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdXBkYXRlTWFpbEJ1dHRvbih7IG1haWxpZDogc2VsZWN0ZWRNYWlsLm1haWxpZCwgYnV0dG9uOiBzZWxlY3RlZE1haWwuYnV0dG9uIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRNb2RhbFZpc2libGUoZmFsc2UpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH07XG4gICAgdmFyIF9oYW5kbGVDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0TW9kYWxWaXNpYmxlKGZhbHNlKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVDbGVhckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldHNlbGVjdGVkTWFpbChudWxsKTtcbiAgICB9O1xuICAgIHZhciBzYW5pdGl6ZWRNZXNzYWdlID0geHNzKHNlbGVjdGVkTWFpbC5tZXNzYWdlLCB7XG4gICAgICAgIHdoaXRlTGlzdDoge1xuICAgICAgICAgICAgYnI6IFtdLFxuICAgICAgICAgICAgc3Ryb25nOiBbXSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2xpZGUsIHsgZGlyZWN0aW9uOiBcImxlZnRcIiwgaW46IG1vZGFsVmlzaWJsZSwgbW91bnRPbkVudGVyOiB0cnVlLCB1bm1vdW50T25FeGl0OiB0cnVlLCBvbkV4aXRlZDogaGFuZGxlQ2xlYXJDb250ZW50IH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFwZXIsIHsgc3g6IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICB6SW5kZXg6IDIwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICB9LCBzcXVhcmU6IHRydWUgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyLCB7IHN4OiB7IGhlaWdodDogJzEwMCUnIH0gfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBzeDogeyBoZWlnaHQ6ICcxMDAlJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IHB0OiAyLCBwYjogMSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgY29sb3I6IFwic2Vjb25kYXJ5XCIsIHNpemU6IFwibGFyZ2VcIiwgc3RhcnRJY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KEFycm93QmFja0ljb24sIHsgZm9udFNpemU6IFwibGFyZ2VcIiB9KSwgb25DbGljazogX2hhbmRsZUNsb3NlIH0sIFwiSU5CT1hcIikpLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBwbDogMSwgcGI6ICcxMnB4JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHN4OiB7IGZvbnRTaXplOiAnMjBweCcsIGZvbnRXZWlnaHQ6IDUwMCB9IH0sIHNlbGVjdGVkTWFpbC5zZW5kZXIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHN4OiB7IGZvbnRTaXplOiAnMTlweCcgfSB9LCBzZWxlY3RlZE1haWwuc3ViamVjdCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1haWwuZGF0ZSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHN4OiB7IGZvbnRTaXplOiAnMTVweCcsIGNvbG9yOiAnI2RlZGVkZScgfSB9LCBkYXRlU3RyaW5nKHNlbGVjdGVkTWFpbC5kYXRlKSkpKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEaXZpZGVyLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRNYWlsLm1lc3NhZ2UgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IHBsOiAxLCBwdDogJzEycHgnLCBzeDogeyBmb250U2l6ZTogJzE4cHgnLCBoZWlnaHQ6ICc3MCUnIH0sIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogc2FuaXRpemVkTWVzc2FnZSB9IH0pKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgZGlzcGxheTogXCJpbmxpbmVcIiwgcDogMSwgc3g6IHsgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICcxNXB4JywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTWFpbC5idXR0b24gIT09IHVuZGVmaW5lZCAmJiBzZWxlY3RlZE1haWwuYnV0dG9uICE9PSBudWxsICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgeyBjb2xvcjogXCJzdWNjZXNzXCIsIHZhcmlhbnQ6IFwiY29udGFpbmVkXCIsIG9uQ2xpY2s6IGhhbmRsZVN1Ym1pdEJ1dHRvbiB9LCBcIkFDQ0VQVFwiKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgeyBjb2xvcjogXCJlcnJvclwiLCB2YXJpYW50OiBcImNvbnRhaW5lZFwiLCBvbkNsaWNrOiBoYW5kbGVEZWxldGVNYWlsIH0sIFwiREVMRVRFXCIpKSkpKSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IE1haWxNb2RhbDtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5pbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNuYWNrYmFyIH0gZnJvbSAnLi4vc25hY2tiYXIvdXNlU25hY2tiYXInO1xuaW1wb3J0IHsgdXNlTWFpbEFjdGlvbnMgfSBmcm9tICcuL3VzZU1haWxBY3Rpb25zJztcbmltcG9ydCBmZXRjaE51aSBmcm9tICcuLi91dGlscy9mZXRjaE51aSc7XG5leHBvcnQgdmFyIHVzZU1haWxBUEkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFkZEFsZXJ0ID0gdXNlU25hY2tiYXIoKS5hZGRBbGVydDtcbiAgICB2YXIgX2EgPSB1c2VNYWlsQWN0aW9ucygpLCB1cGRhdGVSZWFkU3RhdGUgPSBfYS51cGRhdGVSZWFkU3RhdGUsIGRlbGV0ZUxvY2FsTWFpbCA9IF9hLmRlbGV0ZUxvY2FsTWFpbCwgdXBkYXRlTG9jYWxCdXR0b24gPSBfYS51cGRhdGVMb2NhbEJ1dHRvbjtcbiAgICB2YXIgdXBkYXRlUmVhZCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChtYWlsaWQpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoTnVpKFwibnB3ZDpxYi1tYWlsOnVwZGF0ZVJlYWRcIiwgbWFpbGlkKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJlYWRTdGF0ZShtYWlsaWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pOyB9LCBbdXBkYXRlUmVhZFN0YXRlXSk7XG4gICAgdmFyIGRlbGV0ZU1haWwgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAobWFpbGlkKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzcDtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2hOdWkoXCJucHdkOnFiLW1haWw6ZGVsZXRlTWFpbFwiLCBtYWlsaWQpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHJlc3AgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwLnN0YXR1cyAhPT0gJ29rJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGFkZEFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBkZWxldGUgbWFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUxvY2FsTWFpbChtYWlsaWQpO1xuICAgICAgICAgICAgICAgICAgICBhZGRBbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgbWFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pOyB9LCBbYWRkQWxlcnQsIGRlbGV0ZUxvY2FsTWFpbF0pO1xuICAgIHZhciB1cGRhdGVNYWlsQnV0dG9uID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBtYWlsaWQgPSBfYS5tYWlsaWQsIGJ1dHRvbiA9IF9hLmJ1dHRvbjtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzcDtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2hOdWkoXCJucHdkOnFiLW1haWw6dXBkYXRlQnV0dG9uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWlsaWQ6IG1haWxpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246IGJ1dHRvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcCA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwLnN0YXR1cyAhPT0gJ29rJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBhZGRBbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGFjY2VwdCBtYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUxvY2FsQnV0dG9uKG1haWxpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1N1Y2Nlc3NmdWxseSBhY2NlcHRlZCBtYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2FkZEFsZXJ0LCB1cGRhdGVMb2NhbEJ1dHRvbl0pO1xuICAgIHJldHVybiB7IHVwZGF0ZVJlYWQ6IHVwZGF0ZVJlYWQsIGRlbGV0ZU1haWw6IGRlbGV0ZU1haWwsIHVwZGF0ZU1haWxCdXR0b246IHVwZGF0ZU1haWxCdXR0b24gfTtcbn07XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSwgcGFjaykge1xuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG59O1xuaW1wb3J0IHsgdXNlU2V0TWFpbCB9IGZyb20gJy4uL2F0b21zL21haWwtYXRvbXMnO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgdmFyIHVzZU1haWxBY3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZXRNYWlsID0gdXNlU2V0TWFpbCgpO1xuICAgIHZhciB1cGRhdGVSZWFkU3RhdGUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgc2V0TWFpbChmdW5jdGlvbiAoY3VyTWFpbCkge1xuICAgICAgICAgICAgdmFyIG5ld01haWwgPSBjdXJNYWlsLm1hcChmdW5jdGlvbiAobWFpbCkge1xuICAgICAgICAgICAgICAgIGlmIChtYWlsLm1haWxpZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBtYWlsKSwgeyByZWFkOiAxIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWFpbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ld01haWw7XG4gICAgICAgIH0pO1xuICAgIH0sIFtzZXRNYWlsXSk7XG4gICAgdmFyIG5ld01haWwgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAobWFpbCkge1xuICAgICAgICBzZXRNYWlsKGZ1bmN0aW9uIChjdXJNYWlsKSB7XG4gICAgICAgICAgICB2YXIgbmV3TWFpbCA9IF9fc3ByZWFkQXJyYXkoW21haWxdLCBjdXJNYWlsLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdNYWlsO1xuICAgICAgICB9KTtcbiAgICB9LCBbc2V0TWFpbF0pO1xuICAgIHZhciB1cGRhdGVMb2NhbEJ1dHRvbiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBzZXRNYWlsKGZ1bmN0aW9uIChjdXJNYWlsKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0SW5kZXggPSBjdXJNYWlsLmZpbmRJbmRleChmdW5jdGlvbiAoc3RvcmVkTWFpbCkgeyByZXR1cm4gc3RvcmVkTWFpbC5tYWlsaWQgPT09IGlkOyB9KTtcbiAgICAgICAgICAgIHZhciBuZXdNYWlsQXJyYXkgPSBfX3NwcmVhZEFycmF5KFtdLCBjdXJNYWlsLCB0cnVlKTtcbiAgICAgICAgICAgIG5ld01haWxBcnJheVt0YXJnZXRJbmRleF0uYnV0dG9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBuZXdNYWlsQXJyYXk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtzZXRNYWlsXSk7XG4gICAgdmFyIGRlbGV0ZUxvY2FsTWFpbCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBzZXRNYWlsKGZ1bmN0aW9uIChjdXJNYWlsKSB7IHJldHVybiBfX3NwcmVhZEFycmF5KFtdLCBjdXJNYWlsLCB0cnVlKS5maWx0ZXIoZnVuY3Rpb24gKG1haWwpIHsgcmV0dXJuIG1haWwubWFpbGlkICE9PSBpZDsgfSk7IH0pO1xuICAgIH0sIFtzZXRNYWlsXSk7XG4gICAgcmV0dXJuIHsgdXBkYXRlUmVhZFN0YXRlOiB1cGRhdGVSZWFkU3RhdGUsIGRlbGV0ZUxvY2FsTWFpbDogZGVsZXRlTG9jYWxNYWlsLCB1cGRhdGVMb2NhbEJ1dHRvbjogdXBkYXRlTG9jYWxCdXR0b24sIG5ld01haWw6IG5ld01haWwgfTtcbn07XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTXVpQWxlcnQgZnJvbSAnQG11aS9tYXRlcmlhbC9BbGVydCc7XG5pbXBvcnQgeyBUeXBvZ3JhcGh5IH0gZnJvbSAnQG11aS9tYXRlcmlhbCc7XG5leHBvcnQgdmFyIEFsZXJ0ID0gZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChNdWlBbGVydCwgX19hc3NpZ24oeyBzeDoge1xuICAgICAgICAgICAgekluZGV4OiAxMDAwMCxcbiAgICAgICAgfSwgZWxldmF0aW9uOiA0LCB2YXJpYW50OiBcImZpbGxlZFwiIH0sIHByb3BzLCB7IHJlZjogcmVmIH0pLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHsgc3g6IHtcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogJzMwMHB4JyxcbiAgICAgICAgICAgICAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMS4xZW0nLFxuICAgICAgICAgICAgfSB9LCBwcm9wcy5jaGlsZHJlbikpKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgQWxlcnQ7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU25hY2tiYXIgfSBmcm9tICdAbXVpL21hdGVyaWFsJztcbmltcG9ydCB7IHVzZVNuYWNrYmFyIH0gZnJvbSAnLi91c2VTbmFja2Jhcic7XG5pbXBvcnQgQWxlcnQgZnJvbSAnLi9BbGVydCc7XG5leHBvcnQgdmFyIFBob25lU25hY2tiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciBfYiA9IHVzZVNuYWNrYmFyKCksIGFsZXJ0ID0gX2IuYWxlcnQsIGlzT3BlbiA9IF9iLmlzT3BlbiwgaGFuZGxlQ2xvc2UgPSBfYi5oYW5kbGVDbG9zZTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU25hY2tiYXIsIHsgYXV0b0hpZGVEdXJhdGlvbjogKF9hID0gYWxlcnQgPT09IG51bGwgfHwgYWxlcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFsZXJ0LmR1cmF0aW9uKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAzMDAwLCBvcGVuOiBpc09wZW4sIHN4OiB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICBib3R0b206IDc1LFxuICAgICAgICAgICAgbGVmdDogJzAgIWltcG9ydGFudCcsXG4gICAgICAgICAgICByaWdodDogJzAgIWltcG9ydGFudCcsXG4gICAgICAgIH0sIG9uQ2xvc2U6IGhhbmRsZUNsb3NlIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWxlcnQsIHsgc2V2ZXJpdHk6IChhbGVydCA9PT0gbnVsbCB8fCBhbGVydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxlcnQudHlwZSkgfHwgJ2luZm8nLCBvbkNsb3NlOiBoYW5kbGVDbG9zZSB9LCAoYWxlcnQgPT09IG51bGwgfHwgYWxlcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFsZXJ0Lm1lc3NhZ2UpIHx8ICcnKSkpO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmV4cG9ydCB2YXIgU25hY2tiYXJDb250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcbnZhciBTbmFja2JhclByb3ZpZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW47XG4gICAgdmFyIF9iID0gdXNlU3RhdGUoZmFsc2UpLCBvcGVuID0gX2JbMF0sIHNldE9wZW4gPSBfYlsxXTtcbiAgICB2YXIgX2MgPSB1c2VTdGF0ZShudWxsKSwgYWxlcnQgPSBfY1swXSwgc2V0QWxlcnQgPSBfY1sxXTtcbiAgICB2YXIgc2V0TmV3QWxlcnQgPSBmdW5jdGlvbiAoYWxlcnQpIHtcbiAgICAgICAgc2V0QWxlcnQoYWxlcnQpO1xuICAgICAgICBzZXRPcGVuKHRydWUpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZUNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRPcGVuKGZhbHNlKTtcbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChTbmFja2JhckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgYWxlcnQ6IGFsZXJ0LCBhZGRBbGVydDogc2V0TmV3QWxlcnQsIGhhbmRsZUNsb3NlOiBoYW5kbGVDbG9zZSwgaXNPcGVuOiBvcGVuIH0gfSwgY2hpbGRyZW4pKTtcbn07XG5leHBvcnQgZGVmYXVsdCBTbmFja2JhclByb3ZpZGVyO1xuIiwiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFNuYWNrYmFyQ29udGV4dCB9IGZyb20gJy4vU25hY2tiYXJQcm92aWRlcic7XG5leHBvcnQgdmFyIHVzZVNuYWNrYmFyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdXNlQ29udGV4dChTbmFja2JhckNvbnRleHQpOyB9O1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbi8qKlxuICogU2ltcGxlIHdyYXBwZXIgYXJvdW5kIGZldGNoIEFQSSB0YWlsb3JlZCBmb3IgQ0VGL05VSSB1c2UuXG4gKiBAcGFyYW0gZXZlbnROYW1lIC0gVGhlIGVuZHBvaW50IGV2ZW50bmFtZSB0byB0YXJnZXRcbiAqIEBwYXJhbSBkYXRhIC0gRGF0YSB5b3Ugd2lzaCB0byBzZW5kIGluIHRoZSBOVUkgQ2FsbGJhY2tcbiAqXG4gKiBAcmV0dXJuIHJldHVybkRhdGEgLSBBIHByb21pc2UgZm9yIHRoZSBkYXRhIHNlbnQgYmFjayBieSB0aGUgTnVpQ2FsbGJhY2tzIENCIGFyZ3VtZW50XG4gKi9cbmltcG9ydCB7IGlzRW52QnJvd3NlciB9IGZyb20gJy4vbWlzYyc7XG5mdW5jdGlvbiBmZXRjaE51aShldmVudE5hbWUsIGRhdGEsIG1vY2tSZXNwKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3B0aW9ucywgcmVzb3VyY2VOYW1lLCByZXNwLCByZXNwb25zZU9iajtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0VudkJyb3dzZXIoKSAmJiBtb2NrUmVzcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG1vY2tSZXNwXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZU5hbWUgPSBcIm5wd2RfcWJfbWFpbFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaChcImh0dHBzOi8vXCIuY29uY2F0KHJlc291cmNlTmFtZSwgXCIvXCIpLmNvbmNhdChldmVudE5hbWUpLCBvcHRpb25zKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICByZXNwID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwLmpzb24oKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU9iaiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlT2JqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBmZXRjaE51aTtcbiIsImV4cG9ydCB2YXIgaXNFbnZCcm93c2VyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiAhd2luZG93Lmludm9rZU5hdGl2ZTtcbn07XG5leHBvcnQgdmFyIGdldFJlc291cmNlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gd2luZG93LkdldFBhcmVudFJlc291cmNlTmFtZSA/IHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvdy5HZXRQYXJlbnRSZXNvdXJjZU5hbWUoKSA6ICducHdkJztcbn07XG5leHBvcnQgdmFyIGJ1aWxkUmVzcE9iaiA9IGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGVycm9yTXNnKSB7IHJldHVybiAoe1xuICAgIGRhdGE6IGRhdGEsXG4gICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgZXJyb3JNc2c6IGVycm9yTXNnLFxufSk7IH07XG52YXIgRGF5Rm9ybWF0dGluZyA9IFtcbiAgICAnU3VuZGF5JyxcbiAgICAnTW9uZGF5JyxcbiAgICAnVHVlc2RheScsXG4gICAgJ1dlZG5lc2RheScsXG4gICAgJ1RodXJzZGF5JyxcbiAgICAnRnJpZGF5JyxcbiAgICAnU2F0dXJkYXknLFxuXTtcbnZhciBNb250aEZvcm1hdHRpbmcgPSBbXG4gICAgJ0phbnVhcnknLFxuICAgICdGZWJydWFyeScsXG4gICAgJ01hcmNoJyxcbiAgICAnQXByaWwnLFxuICAgICdNYXknLFxuICAgICdKdW5lJyxcbiAgICAnSnVseScsXG4gICAgJ0F1Z3VzdCcsXG4gICAgJ1NlcHRlbWJlcicsXG4gICAgJ09jdG9iZXInLFxuICAgICdOb3ZlbWJlcicsXG4gICAgJ0RlY2VtYmVyJyxcbl07XG5leHBvcnQgdmFyIGRhdGVTdHJpbmcgPSBmdW5jdGlvbiAobWFpbERhdGUpIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG1haWxEYXRlKTtcbiAgICByZXR1cm4gKERheUZvcm1hdHRpbmdbZGF0ZS5nZXREYXkoKV0gK1xuICAgICAgICAnLCAnICtcbiAgICAgICAgTW9udGhGb3JtYXR0aW5nW2RhdGUuZ2V0TW9udGgoKV0gK1xuICAgICAgICAnICcgK1xuICAgICAgICAoJzAnICsgZGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKSArXG4gICAgICAgICcgJyArXG4gICAgICAgIGRhdGUuZ2V0RnVsbFllYXIoKSArXG4gICAgICAgICcgJyArXG4gICAgICAgIGRhdGUuZ2V0SG91cnMoKSArXG4gICAgICAgICc6JyArXG4gICAgICAgIGRhdGUuZ2V0TWludXRlcygpKTtcbn07XG4iXSwibmFtZXMiOlsiTW9ja01haWwiLCJtYWlsaWQiLCJzZW5kZXIiLCJzdWJqZWN0IiwibWVzc2FnZSIsInJlYWQiLCJkYXRlIiwiYnV0dG9uIiwiYnV0dG9uRXZlbnQiLCJlbmFibGVkIiwiYnV0dG9uRGF0YSIsImRlYWxlciIsIml0ZW1EYXRhIiwibWlucmVwIiwiaXRlbSIsImFtb3VudCIsImxvY2F0aW9uTGFiZWwiLCJjb29yZHMiLCJ4IiwieSIsInoiLCJtYWlsU3RhdGVzIiwibWFpbEl0ZW1zIiwiYXRvbSIsImtleSIsImRlZmF1bHQiLCJzZWxlY3RvciIsImdldCIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiZ2VuZXJhdG9yIiwicmVzcCIsImVfMSIsImJvZHkiLCJmIiwidCIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ0aGlzIiwibiIsInYiLCJvcCIsIlR5cGVFcnJvciIsImNhbGwiLCJkb25lIiwidmFsdWUiLCJwb3AiLCJsZW5ndGgiLCJwdXNoIiwiZSIsInN0ZXAiLCJfX2dlbmVyYXRvciIsIl9hIiwiZmV0Y2hOdWkiLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiUCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJ0aGVuIiwiYXBwbHkiLCJzZWxlY3RlZE1haWwiLCJtb2RhbFZpc2liaWxlIiwidXNlTWFpbHNWYWx1ZSIsInVzZVJlY29pbFZhbHVlIiwidXNlU2V0TWFpbCIsInVzZVNldFJlY29pbFN0YXRlIiwidXNlU2V0TW9kYWxWaXNpYmxlIiwidXNlTW9kYWxWaXNpYmxlIiwidXNlUmVjb2lsU3RhdGUiLCJ1c2VTZXRTZWxlY3RlZE1haWwiLCJ1c2VTZWxlY3RlZE1haWwiLCJweCIsInB0Iiwic3giLCJ3aWR0aCIsInRleHRBbGlnbiIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwicGFyYWdyYXBoIiwidmFyaWFudCIsImlzRGFya01vZGUiLCJtYWlscyIsInNldE1haWwiLCJzZXRNb2RhbFZpc2libGUiLCJ1cGRhdGVSZWFkIiwibmV3TWFpbCIsInVzZU51aUV2ZW50IiwiZXZlbnQiLCJ1c2VFZmZlY3QiLCJkaXNhYmxlUGFkZGluZyIsIm1hcCIsIm1haWwiLCJkaXZpZGVyIiwib25DbGljayIsImhhbmRsZU1haWxNb2RhbCIsImJnY29sb3IiLCJib3JkZXJSYWRpdXMiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIm1hcmdpblJpZ2h0IiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJqdXN0aWZ5Q29udGVudCIsImZvbnRXZWlnaHQiLCJmb250U2l6ZSIsImRhdGVEYXRhIiwiRGF0ZSIsImdldERhdGUiLCJzbGljZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJhbGlnbkl0ZW1zIiwiaGVpZ2h0Iiwic3R5bGUiLCJtb2RhbFZpc2libGUiLCJfYiIsInNldHNlbGVjdGVkTWFpbCIsIl9jIiwiZGVsZXRlTWFpbCIsInVwZGF0ZU1haWxCdXR0b24iLCJzYW5pdGl6ZWRNZXNzYWdlIiwid2hpdGVMaXN0IiwiYnIiLCJzdHJvbmciLCJkaXJlY3Rpb24iLCJpbiIsIm1vdW50T25FbnRlciIsInVubW91bnRPbkV4aXQiLCJvbkV4aXRlZCIsInBvc2l0aW9uIiwiekluZGV4Iiwic3F1YXJlIiwicGIiLCJzaXplIiwic3RhcnRJY29uIiwicGwiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsInAiLCJnYXAiLCJ1bmRlZmluZWQiLCJjYXRjaCIsIl9fYXdhaXRlciIsInVzZU1haWxBUEkiLCJhZGRBbGVydCIsInVwZGF0ZVJlYWRTdGF0ZSIsImRlbGV0ZUxvY2FsTWFpbCIsInVwZGF0ZUxvY2FsQnV0dG9uIiwidXNlQ2FsbGJhY2siLCJzdGF0dXMiLCJ0eXBlIiwiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJzIiwiaSIsImFyZ3VtZW50cyIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiX19zcHJlYWRBcnJheSIsInRvIiwiZnJvbSIsInBhY2siLCJhciIsImwiLCJBcnJheSIsImNvbmNhdCIsInVzZU1haWxBY3Rpb25zIiwiaWQiLCJjdXJNYWlsIiwidGFyZ2V0SW5kZXgiLCJmaW5kSW5kZXgiLCJzdG9yZWRNYWlsIiwibmV3TWFpbEFycmF5IiwiZmlsdGVyIiwiZm9yd2FyZFJlZiIsInByb3BzIiwicmVmIiwiZWxldmF0aW9uIiwiVHlwb2dyYXBoeSIsIm1heFdpZHRoIiwid29yZFdyYXAiLCJjaGlsZHJlbiIsIlBob25lU25hY2tiYXIiLCJ1c2VTbmFja2JhciIsImFsZXJ0IiwiaXNPcGVuIiwiaGFuZGxlQ2xvc2UiLCJTbmFja2JhciIsImF1dG9IaWRlRHVyYXRpb24iLCJkdXJhdGlvbiIsIm9wZW4iLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJvbkNsb3NlIiwic2V2ZXJpdHkiLCJTbmFja2JhckNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwidXNlU3RhdGUiLCJzZXRPcGVuIiwic2V0QWxlcnQiLCJQcm92aWRlciIsInVzZUNvbnRleHQiLCJTIiwiZXZlbnROYW1lIiwibW9ja1Jlc3AiLCJvcHRpb25zIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJmZXRjaCIsImpzb24iLCJpc0VudkJyb3dzZXIiLCJEYXlGb3JtYXR0aW5nIiwiTW9udGhGb3JtYXR0aW5nIiwiZGF0ZVN0cmluZyIsIm1haWxEYXRlIiwiZ2V0RGF5IiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIl0sInNvdXJjZVJvb3QiOiIifQ==