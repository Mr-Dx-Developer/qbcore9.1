"use strict";(self.webpackChunknpwd_crypto=self.webpackChunknpwd_crypto||[]).push([[799],{7951:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(6038),a=n(5974),l=n(2950),o=n.n(l),c=n(5137),i=n(6115),u=c.Z[500],s=(i.Z.white,i.Z.white),d=(i.Z.black,{light:{palette:{mode:"light",primary:{main:u,dark:c.Z[700],light:c.Z[300],contrastText:s},secondary:{main:"#d32f2f",light:"#eb4242",dark:"#941212",contrastText:s}}},dark:{palette:{mode:"dark",primary:{main:u,dark:c.Z[700],light:c.Z[300],contrastText:s},secondary:{main:"#d32f2f",light:"#eb4242",dark:"#941212",contrastText:s}}}});const m=function(e){var t=e.children,n=e.mode,l=d[n],c=(0,r.Z)(l);return o().createElement(a.Z,{theme:c},t)}},5210:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(2453),a={currentValue:(0,r.atom)({key:"currentValue",default:1}),balance:(0,r.atom)({key:"balance",default:0}),history:(0,r.atom)({key:"history",default:[38,42,56,56,69,32,48,50,57,57]}),transactions:(0,r.atom)({key:"transactions",default:[]})}},2858:(e,t,n)=>{n.d(t,{w:()=>u});var r=n(2950),a=n.n(r),l=n(799),o=n(417),c=n(7109),i=n(8584),u=function(e){var t=e.heading,n=e.text,r=e.icon;return a().createElement(l.ZP,null,a().createElement(o.Z,null,a().createElement(c.Z,null,r)),a().createElement(i.Z,{primary:t,secondary:n}))}},1551:(e,t,n)=>{n.d(t,{Z:()=>s});var r,a,l=n(2950),o=n.n(l),c=n(2734),i=n(245),u=n(6790).Z.div(d||(r=["\n  display: flex;\n  align-items: center;\n\n  min-height: ",";\n  padding-left: 1.5rem;\n  background-color: ",";\n"],a=["\n  display: flex;\n  align-items: center;\n\n  min-height: ",";\n  padding-left: 1.5rem;\n  background-color: ",";\n"],Object.defineProperty?Object.defineProperty(r,"raw",{value:a}):r.raw=a,d=r),"4rem",(function(e){return e.backgroundColor}));const s=function(e){var t=e.children,n=(0,c.Z)();return o().createElement(u,{backgroundColor:n.palette.primary.main},o().createElement(i.Z,{variant:"h5",color:"primary.contrastText"},t))};var d},3971:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(2950),a=n.n(r),l=n(4172),o=n(2004),c=n(5662),i=n(3334),u=n(1233),s=n(5542);const d=function(){var e=(0,c.useLocation)().pathname,t=(0,r.useState)(e),n=t[0],d=t[1];return a().createElement(l.Z,{value:n,onChange:function(e,t){d(t)},showLabels:!0,sx:{width:"100%"}},a().createElement(o.Z,{label:"Portfolio",value:"/crypto",component:c.NavLink,icon:a().createElement(i.Z,null),to:"/crypto"}),a().createElement(o.Z,{label:"Market History",value:"/crypto/history",color:"secondary",component:c.NavLink,icon:a().createElement(u.Z,null),to:"/crypto/history"}),a().createElement(o.Z,{label:"Transactions",value:"/crypto/transactions",color:"secondary",component:c.NavLink,icon:a().createElement(s.Z,null),to:"/crypto/transactions"}))}},3377:(e,t,n)=>{n.d(t,{v:()=>d});var r=n(2950),a=n.n(r),l=n(5282),o=n(6831),c=n(442),i=n(245),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u.apply(this,arguments)};const s=(0,r.forwardRef)((function(e,t){return a().createElement(c.Z,u({sx:{zIndex:1e4},elevation:4,variant:"filled"},e,{ref:t}),a().createElement(i.Z,{sx:{maxWidth:"300px",wordWrap:"break-word",fontSize:"1.1em"}},e.children))}));var d=function(){var e,t=(0,o.D)(),n=t.alert,r=t.isOpen,c=t.handleClose;return a().createElement(l.Z,{autoHideDuration:null!==(e=null==n?void 0:n.duration)&&void 0!==e?e:3e3,open:r,sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"auto",position:"absolute",bottom:75,left:"0 !important",right:"0 !important"},onClose:c},a().createElement(s,{severity:(null==n?void 0:n.type)||"info",onClose:c},(null==n?void 0:n.message)||""))}},7030:(e,t,n)=>{n.d(t,{S:()=>l,Z:()=>o});var r=n(2950),a=n.n(r),l=(0,r.createContext)(null);const o=function(e){var t=e.children,n=(0,r.useState)(!1),o=n[0],c=n[1],i=(0,r.useState)(null),u=i[0],s=i[1];return a().createElement(l.Provider,{value:{alert:u,addAlert:function(e){s(e),c(!0)},handleClose:function(){c(!1)},isOpen:o}},t)}},6831:(e,t,n)=>{n.d(t,{D:()=>l});var r=n(2950),a=n(7030),l=function(){return(0,r.useContext)(a.S)}},9085:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e,t,n){return r=this,a=void 0,o=function(){var n;return function(e,t){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(r){switch(r.label){case 0:return n={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)},[4,fetch("https://".concat("npwd_crypto","/").concat(e),n)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{i(o.next(e))}catch(e){t(e)}}function c(e){try{i(o.throw(e))}catch(e){t(e)}}function i(t){var r;t.done?e(t.value):(r=t.value,r instanceof l?r:new l((function(e){e(r)}))).then(n,c)}i((o=o.apply(r,a||[])).next())}));var r,a,l,o}},2072:(e,t,n)=>{n.d(t,{A:()=>b});var r=n(2950),a=n.n(r),l=n(7e3),o=n(7675),c=n(5137),i=n(3486),u=n(265),s=n(3839),d=n.n(s),m=n(2734),f=n(6501),p=n(245),h=n(2453),y=n(5210);l.Chart.register(l.CategoryScale,l.LinearScale,l.PointElement,l.LineElement,l.Title,l.Tooltip,l.Legend);var v,g,E,Z=d().div(v||(g=["\n  display: grid;\n  grid-template-rows: 3fr 1fr;\n  height: calc(100% - 3.5rem);\n  place-items: center;\n"],E=["\n  display: grid;\n  grid-template-rows: 3fr 1fr;\n  height: calc(100% - 3.5rem);\n  place-items: center;\n"],Object.defineProperty?Object.defineProperty(g,"raw",{value:E}):g.raw=E,v=g)),b=function(){var e,t,n=(0,h.useRecoilValue)(y.S.history),r=n.length,l=new Array(r).fill(""),s="dark"===(0,m.Z)().palette.mode,d={labels:l,datasets:[{data:n,borderColor:c.Z[500],backgroundColor:c.Z[700],tension:.2}]},v=(e=n[0],(t=n[r-1])>e?[1,((t-e)/e*100).toFixed(2)]:[0,((t-e)/t*-1*100).toFixed(2)]),g=v[0],E=v[1];return a().createElement(Z,null,a().createElement(o.Line,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){return"$"+e.raw}}}},scales:{y:{min:0,ticks:{callback:function(e){return"$"+e}},grid:{display:!1,borderColor:s?"#f5f5f5":"#3F3F3FA6"}},x:{grid:{display:!1,borderColor:s?"#f5f5f5":"#3F3F3FA6"}}}},data:d}),a().createElement(f.Z,{sx:{height:50,width:"90%",display:"flex",justifyContent:"center",alignItems:"center"},elevation:3,variant:"outlined"},a().createElement(p.Z,{sx:{color:1===g?i.Z[500]:u.Z[500],fontWeight:"bold"}},1===g?"Up "+E+"%":"Down "+E+"%")))}},8087:(e,t,n)=>{n.d(t,{_:()=>D});var r,a,l=n(2950),o=n.n(l),c=n(6501),i=n(6123),u=n(7709),s=n(6914),d=n(3839),m=n.n(d),f=n(6857),p=n(62),h=n(5414),y=n(2440),v=n(3334),g=n(9547),E=n(2858),Z=function(e){var t=e.value,n=e.balance;return o().createElement(y.Z,{sx:{width:"100%"}},o().createElement(E.w,{heading:"Balance",text:n.toString(),icon:o().createElement(v.Z,{fontSize:"medium",color:"primary"})}),o().createElement(E.w,{heading:"Cash Value",text:"$".concat((n*t).toFixed(2)),icon:o().createElement(f.Z,{fontSize:"medium",color:"primary"})}),o().createElement(E.w,{heading:"Crypto Worth",text:"$".concat(t),icon:o().createElement(g.Z,{fontSize:"medium",color:"primary"})}))},b=n(7645),w=n(7750),x=n(245),S=n(573),C=n(3447),k=n(3709),F=n(2453),T=n(5210),P=n(9085),O=n(6831),R=n(1268),j=function(e){var t=e.close,n=(0,l.useState)(""),r=n[0],a=n[1],c=(0,l.useState)(!1),i=c[0],u=c[1],d=(0,F.useRecoilValue)(T.S.currentValue),m=(0,F.useSetRecoilState)(T.S.balance),f=(0,O.D)().addAlert;return o().createElement(o().Fragment,null,o().createElement(b.Z,null," Confirm Purchase "),o().createElement(w.Z,null,r&&o().createElement(x.Z,null,"You will receive ",(parseFloat(r)/d).toFixed(2)," bits"),o().createElement(R.TextField,{value:r,onChange:function(e){a(e.target.value)},placeholder:"Amount",type:"number",error:i,InputProps:{startAdornment:o().createElement(S.Z,{position:"start",variant:"standard"},"$")}})),o().createElement(C.Z,null,o().createElement(s.Z,{variant:"text",color:"error",onClick:t},"Cancel"),o().createElement(s.Z,{variant:"text",color:"success",onClick:function(){var e=parseFloat(r);(0,P.Z)("npwd_crypto:tryBuyCrypto",{amount:e}).then((function(e){if("error"===e.status)return u(!0),f({message:e.data.reason,type:"error"});u(!1),m(e.data.newBal)}))}},"Confirm")))},A=function(e){var t=e.close,n=(0,l.useState)(""),r=n[0],a=n[1],c=(0,l.useState)(!1),i=c[0],u=c[1],d=(0,F.useRecoilValue)(T.S.currentValue),m=(0,F.useSetRecoilState)(T.S.balance),f=(0,O.D)().addAlert;return o().createElement(o().Fragment,null,o().createElement(b.Z,null," Confirm Sell "),o().createElement(w.Z,null,r&&o().createElement(x.Z,null,"You will receive $",parseFloat(r)*d),o().createElement(R.TextField,{value:r,onChange:function(e){a(e.target.value)},placeholder:"Amount",type:"number",error:i})),o().createElement(C.Z,null,o().createElement(s.Z,{variant:"text",color:"error",onClick:t},"Cancel"),o().createElement(s.Z,{variant:"text",color:"success",onClick:function(){var e=parseFloat(r);(0,P.Z)("npwd_crypto:trySellCrypto",{amount:e}).then((function(e){if("error"===e.status)return u(!0),f({message:e.data.reason,type:"error"});u(!1),m(e.data.newBal)}))}},"Confirm")))},V=function(e){var t=e.close,n=(0,l.useState)(""),r=n[0],a=n[1],c=(0,l.useState)(""),i=c[0],u=c[1],d=(0,l.useState)(!1),m=d[0],f=d[1],p=(0,F.useRecoilValue)(T.S.currentValue),h=(0,F.useSetRecoilState)(T.S.balance),y=(0,O.D)().addAlert;return o().createElement(o().Fragment,null,o().createElement(b.Z,null," Confirm Trade "),o().createElement(w.Z,null,r&&o().createElement(x.Z,null,"You will receive $",parseFloat(r)*p),o().createElement(k.Z,null,o().createElement(R.TextField,{value:r,onChange:function(e){a(e.target.value)},placeholder:"Amount",type:"number",error:m}),o().createElement(R.TextField,{value:i,onChange:function(e){u(e.target.value)},placeholder:"Player ID",type:"number",error:m}))),o().createElement(C.Z,null,o().createElement(s.Z,{variant:"text",color:"error",onClick:t},"Cancel"),o().createElement(s.Z,{variant:"text",color:"success",onClick:function(){var e=parseFloat(r),t=parseInt(i);(0,P.Z)("npwd_crypto:tryTradeCrypto",{amount:e,target:t}).then((function(e){if("error"===e.status)return f(!0),y({message:e.data.reason,type:"error"});f(!1),h(e.data.newBal)}))}},"Confirm")))},B=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},I=m().div(r||(r=B(["\n  display: grid;\n  grid-template-rows: 1fr 2fr;\n  height: 90%;\n  gap: 1.5rem;\n  place-items: center;\n"],["\n  display: grid;\n  grid-template-rows: 1fr 2fr;\n  height: 90%;\n  gap: 1.5rem;\n  place-items: center;\n"]))),D=function(){var e=(0,F.useRecoilValue)(T.S.balance),t=(0,F.useRecoilValue)(T.S.currentValue),n=(0,l.useState)(!1),r=n[0],a=n[1],u=(0,l.useState)(!1),s=u[0],d=u[1],m=(0,l.useState)(!1),f=m[0],p=m[1];return o().createElement(I,null,o().createElement(c.Z,{elevation:4,variant:"outlined",sx:{height:"100%",width:300,display:"flex",justifyContent:"center",alignItems:"center"}},o().createElement(Z,{value:t,balance:e})),o().createElement(_,{setBuyOpen:a,setSellOpen:d,setTradeOpen:p}),o().createElement(i.Z,{open:r,onClose:function(){return a(!1)},hideBackdrop:!0,disablePortal:!0},o().createElement(j,{close:function(){return a(!1)}})),o().createElement(i.Z,{open:s,onClose:function(){return d(!1)},hideBackdrop:!0,disablePortal:!0},o().createElement(A,{close:function(){return d(!1)}})),o().createElement(i.Z,{open:f,onClose:function(){return p(!1)},hideBackdrop:!0,disablePortal:!0},o().createElement(V,{close:function(){return p(!1)}})))},L=(0,u.ZP)(s.Z)({width:300,height:60}),$=m().div(a||(a=B(["\n  display: grid;\n  place-items: center;\n  grid-template-rows: 1fr 1fr 1fr;\n  gap: 1rem;\n"],["\n  display: grid;\n  place-items: center;\n  grid-template-rows: 1fr 1fr 1fr;\n  gap: 1rem;\n"]))),_=function(e){var t=e.setBuyOpen,n=e.setSellOpen,r=e.setTradeOpen;return o().createElement($,null,o().createElement(L,{variant:"contained",endIcon:o().createElement(p.Z,null),onClick:function(){return t(!0)}},"Buy"),o().createElement(L,{variant:"contained",endIcon:o().createElement(f.Z,null),onClick:function(){return n(!0)}},"Sell"),o().createElement(L,{variant:"contained",endIcon:o().createElement(h.Z,null),onClick:function(){return r(!0)}},"Transfer"))}},246:(e,t,n)=>{n.d(t,{P:()=>g});var r=n(2950),a=n.n(r),l=n(6857),o=n(62),c=n(5414),i=n(6501),u=n(2440),s=n(2116),d=n(2858),m=n(2453),f=n(5210),p=n(9085),h={bought:a().createElement(o.Z,{color:"error"}),sold:a().createElement(l.Z,{color:"success"}),transferred:a().createElement(c.Z,{color:"info"})},y={bought:"Purchase",sold:"Sold",transferred:"Transfer"},v=function(e,t,n,r){switch(e){case"bought":return"Bought ".concat(t," for $").concat(n);case"sold":return"Sold ".concat(t," for $").concat(n);case"transferred":return r?"Received ".concat(t," worth ").concat(n):"Sent ".concat(t," worth ").concat(n);default:return"Something's wrong here I can feel it."}},g=function(){var e=(0,m.useRecoilState)(f.S.transactions),t=e[0],n=e[1];return(0,r.useEffect)((function(){(0,p.Z)("npwd_crypto:fetchTransactions").then((function(e){n(e)}))}),[]),a().createElement(i.Z,{sx:{display:"flex",height:"100%",width:"100%",flexDirection:"column"},variant:"outlined",square:!0},a().createElement(u.Z,{dense:!0,sx:{width:"100%",overflowY:"auto",overflowX:"hidden"}},t.map((function(e,t){var n=e.type,r=e.amount,l=e.value,o=e.isReceiving;return a().createElement(a().Fragment,null,a().createElement(d.w,{heading:y[n],text:v(n,r,l,o),icon:h[n],key:t}),a().createElement(s.Z,null))}))))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBZSxXQUN0QixJQUFJbFAsR0FBSyxJQUFBbVAsZ0JBQWUsa0JBQXFCakosRUFBT2xHLEVBQUcsR0FBSW9QLEVBQVVwUCxFQUFHLEdBTXhFLE9BTEEsSUFBQXFQLFlBQVUsWUFDTixPQUFTLGlDQUFpQzFHLE1BQUssU0FBVW1FLEdBQ3JEc0MsRUFBUXRDLFFBRWIsSUFDSyxrQkFBb0IsSUFBTyxDQUFFekssR0FBSSxDQUNqQ3VDLFFBQVMsT0FDVEcsT0FBUSxPQUNSekMsTUFBTyxPQUNQZ04sY0FBZSxVQUNoQjVOLFFBQVMsV0FBWTZOLFFBQVEsR0FDaEMsa0JBQW9CLElBQU0sQ0FBRUMsT0FBTyxFQUFNbk4sR0FBSSxDQUNyQ0MsTUFBTyxPQUNQbU4sVUFBVyxPQUNYQyxVQUFXLFdBQ1Z4SixFQUFLeUosS0FBSSxTQUFVM1AsRUFBSTRQLEdBQzVCLElBQUl0SyxFQUFPdEYsRUFBR3NGLEtBQU1tRyxFQUFTekwsRUFBR3lMLE9BQVFqSyxFQUFReEIsRUFBR3dCLE1BQU95TixFQUFjalAsRUFBR2lQLFlBQzNFLE9BQVEsa0JBQW9CLGFBQWdCLEtBQ3hDLGtCQUFvQixJQUFnQixDQUFFbE8sUUFBU2dPLEVBQVN6SixHQUFPdEUsS0FBTWdPLEVBQWdCMUosRUFBTW1HLEVBQVFqSyxFQUFPeU4sR0FBY2hPLEtBQU0wTixFQUFNckosR0FBTzdFLElBQUttUCxJQUNoSixrQkFBb0IsSUFBUyIsInNvdXJjZXMiOlsid2VicGFjazovL25wd2RfY3J5cHRvLy4vc3JjL2FwcC50aGVtZS50cyIsIndlYnBhY2s6Ly9ucHdkX2NyeXB0by8uL3NyYy9UaGVtZVN3aXRjaFByb3ZpZGVyLnRzeCIsIndlYnBhY2s6Ly9ucHdkX2NyeXB0by8uL3NyYy9hdG9tcy9hcHAtYXRvbXMudHMiLCJ3ZWJwYWNrOi8vbnB3ZF9jcnlwdG8vLi9zcmMvY29tcG9uZW50cy9BdmF0YXJMaXN0SXRlbS50c3giLCJ3ZWJwYWNrOi8vbnB3ZF9jcnlwdG8vLi9zcmMvY29tcG9uZW50cy9IZWFkZXIudHN4Iiwid2VicGFjazovL25wd2RfY3J5cHRvLy4vc3JjL2NvbXBvbmVudHMvTmF2QmFyLnRzeCIsIndlYnBhY2s6Ly9ucHdkX2NyeXB0by8uL3NyYy9jb21wb25lbnRzL3NuYWNrYmFyL0FsZXJ0LnRzeCIsIndlYnBhY2s6Ly9ucHdkX2NyeXB0by8uL3NyYy9jb21wb25lbnRzL3NuYWNrYmFyL1Bob25lU25hY2tiYXIudHN4Iiwid2VicGFjazovL25wd2RfY3J5cHRvLy4vc3JjL2NvbXBvbmVudHMvc25hY2tiYXIvU25hY2tiYXJQcm92aWRlci50c3giLCJ3ZWJwYWNrOi8vbnB3ZF9jcnlwdG8vLi9zcmMvY29tcG9uZW50cy9zbmFja2Jhci91c2VTbmFja2Jhci50cyIsIndlYnBhY2s6Ly9ucHdkX2NyeXB0by8uL3NyYy91dGlscy9mZXRjaE51aS50cyIsIndlYnBhY2s6Ly9ucHdkX2NyeXB0by8uL3NyYy92aWV3cy9IaXN0b3J5LnRzeCIsIndlYnBhY2s6Ly9ucHdkX2NyeXB0by8uL3NyYy92aWV3cy9Qb3J0Zm9saW8udHN4Iiwid2VicGFjazovL25wd2RfY3J5cHRvLy4vc3JjL2NvbXBvbmVudHMvQmFsYW5jZUxpc3QudHN4Iiwid2VicGFjazovL25wd2RfY3J5cHRvLy4vc3JjL2NvbXBvbmVudHMvRGlhbG9ndWUudHN4Iiwid2VicGFjazovL25wd2RfY3J5cHRvLy4vc3JjL3ZpZXdzL1RyYW5zYWN0aW9ucy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tbW9uLCBvcmFuZ2UgfSBmcm9tICdAbXVpL21hdGVyaWFsL2NvbG9ycyc7XG5leHBvcnQgdmFyIEFQUF9QUklNQVJZX0NPTE9SID0gb3JhbmdlWzUwMF07XG5leHBvcnQgdmFyIEFQUF9URVhUX0NPTE9SID0gY29tbW9uLndoaXRlO1xuZXhwb3J0IHZhciBMSUdIVF9BUFBfVEVYVF9DT0xPUiA9IGNvbW1vbi53aGl0ZTtcbmV4cG9ydCB2YXIgREFSS19BUFBfVEVYVF9DT0xPUiA9IGNvbW1vbi5ibGFjaztcbmV4cG9ydCB2YXIgbGlnaHRUaGVtZSA9IHtcbiAgICBwYWxldHRlOiB7XG4gICAgICAgIG1vZGU6ICdsaWdodCcsXG4gICAgICAgIHByaW1hcnk6IHtcbiAgICAgICAgICAgIG1haW46IEFQUF9QUklNQVJZX0NPTE9SLFxuICAgICAgICAgICAgZGFyazogb3JhbmdlWzcwMF0sXG4gICAgICAgICAgICBsaWdodDogb3JhbmdlWzMwMF0sXG4gICAgICAgICAgICBjb250cmFzdFRleHQ6IExJR0hUX0FQUF9URVhUX0NPTE9SLFxuICAgICAgICB9LFxuICAgICAgICBzZWNvbmRhcnk6IHtcbiAgICAgICAgICAgIG1haW46ICcjZDMyZjJmJyxcbiAgICAgICAgICAgIGxpZ2h0OiAnI2ViNDI0MicsXG4gICAgICAgICAgICBkYXJrOiAnIzk0MTIxMicsXG4gICAgICAgICAgICBjb250cmFzdFRleHQ6IExJR0hUX0FQUF9URVhUX0NPTE9SLFxuICAgICAgICB9XG4gICAgfSxcbn07XG5leHBvcnQgdmFyIGRhcmtUaGVtZSA9IHtcbiAgICBwYWxldHRlOiB7XG4gICAgICAgIG1vZGU6ICdkYXJrJyxcbiAgICAgICAgcHJpbWFyeToge1xuICAgICAgICAgICAgbWFpbjogQVBQX1BSSU1BUllfQ09MT1IsXG4gICAgICAgICAgICBkYXJrOiBvcmFuZ2VbNzAwXSxcbiAgICAgICAgICAgIGxpZ2h0OiBvcmFuZ2VbMzAwXSxcbiAgICAgICAgICAgIGNvbnRyYXN0VGV4dDogTElHSFRfQVBQX1RFWFRfQ09MT1IsXG4gICAgICAgIH0sXG4gICAgICAgIHNlY29uZGFyeToge1xuICAgICAgICAgICAgbWFpbjogJyNkMzJmMmYnLFxuICAgICAgICAgICAgbGlnaHQ6ICcjZWI0MjQyJyxcbiAgICAgICAgICAgIGRhcms6ICcjOTQxMjEyJyxcbiAgICAgICAgICAgIGNvbnRyYXN0VGV4dDogTElHSFRfQVBQX1RFWFRfQ09MT1IsXG4gICAgICAgIH1cbiAgICB9LFxufTtcbmV4cG9ydCB2YXIgdGhlbWVzID0ge1xuICAgIGxpZ2h0OiBsaWdodFRoZW1lLFxuICAgIGRhcms6IGRhcmtUaGVtZSxcbn07XG4iLCJpbXBvcnQgeyBjcmVhdGVUaGVtZSwgVGhlbWVQcm92aWRlciB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHRoZW1lcyB9IGZyb20gJy4vYXBwLnRoZW1lJztcbnZhciBUaGVtZVN3aXRjaFByb3ZpZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG1vZGUgPSBfYS5tb2RlO1xuICAgIHZhciB0aGVtZU9wdGlvbnMgPSB0aGVtZXNbbW9kZV07XG4gICAgdmFyIHRoZW1lID0gY3JlYXRlVGhlbWUodGhlbWVPcHRpb25zKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUaGVtZVByb3ZpZGVyLCB7IHRoZW1lOiB0aGVtZSB9LCBjaGlsZHJlbik7XG59O1xuZXhwb3J0IGRlZmF1bHQgVGhlbWVTd2l0Y2hQcm92aWRlcjtcbiIsImltcG9ydCB7IGF0b20gfSBmcm9tIFwicmVjb2lsXCI7XG5leHBvcnQgdmFyIHN0YXRlID0ge1xuICAgIGN1cnJlbnRWYWx1ZTogYXRvbSh7XG4gICAgICAgIGtleTogJ2N1cnJlbnRWYWx1ZScsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICB9KSxcbiAgICBiYWxhbmNlOiBhdG9tKHtcbiAgICAgICAga2V5OiAnYmFsYW5jZScsXG4gICAgICAgIGRlZmF1bHQ6IDBcbiAgICB9KSxcbiAgICBoaXN0b3J5OiBhdG9tKHtcbiAgICAgICAga2V5OiAnaGlzdG9yeScsXG4gICAgICAgIGRlZmF1bHQ6IFszOCwgNDIsIDU2LCA1NiwgNjksIDMyLCA0OCwgNTAsIDU3LCA1N11cbiAgICB9KSxcbiAgICB0cmFuc2FjdGlvbnM6IGF0b20oe1xuICAgICAgICBrZXk6ICd0cmFuc2FjdGlvbnMnLFxuICAgICAgICBkZWZhdWx0OiBbXVxuICAgIH0pXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQXZhdGFyLCBMaXN0SXRlbSwgTGlzdEl0ZW1BdmF0YXIsIExpc3RJdGVtVGV4dCB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCI7XG5leHBvcnQgdmFyIEF2YXRhckxpc3RJdGVtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGhlYWRpbmcgPSBfYS5oZWFkaW5nLCB0ZXh0ID0gX2EudGV4dCwgaWNvbiA9IF9hLmljb247XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtLCBudWxsLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtQXZhdGFyLCBudWxsLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChBdmF0YXIsIG51bGwsIGljb24pKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbVRleHQsIHsgcHJpbWFyeTogaGVhZGluZywgc2Vjb25kYXJ5OiB0ZXh0IH0pKSk7XG59O1xuIiwidmFyIF9fbWFrZVRlbXBsYXRlT2JqZWN0ID0gKHRoaXMgJiYgdGhpcy5fX21ha2VUZW1wbGF0ZU9iamVjdCkgfHwgZnVuY3Rpb24gKGNvb2tlZCwgcmF3KSB7XG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cbiAgICByZXR1cm4gY29va2VkO1xufTtcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUeXBvZ3JhcGh5LCB1c2VUaGVtZSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuZXhwb3J0IHZhciBIRUFERVJfSEVJR0hUID0gJzRyZW0nO1xudmFyIENvbnRhaW5lciA9IHN0eWxlZC5kaXYodGVtcGxhdGVPYmplY3RfMSB8fCAodGVtcGxhdGVPYmplY3RfMSA9IF9fbWFrZVRlbXBsYXRlT2JqZWN0KFtcIlxcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuXFxuICBtaW4taGVpZ2h0OiBcIiwgXCI7XFxuICBwYWRkaW5nLWxlZnQ6IDEuNXJlbTtcXG4gIGJhY2tncm91bmQtY29sb3I6IFwiLCBcIjtcXG5cIl0sIFtcIlxcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuXFxuICBtaW4taGVpZ2h0OiBcIiwgXCI7XFxuICBwYWRkaW5nLWxlZnQ6IDEuNXJlbTtcXG4gIGJhY2tncm91bmQtY29sb3I6IFwiLCBcIjtcXG5cIl0pKSwgSEVBREVSX0hFSUdIVCwgZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGJhY2tncm91bmRDb2xvciA9IF9hLmJhY2tncm91bmRDb2xvcjtcbiAgICByZXR1cm4gYmFja2dyb3VuZENvbG9yO1xufSk7XG52YXIgSGVhZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW47XG4gICAgdmFyIHRoZW1lID0gdXNlVGhlbWUoKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyLCB7IGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4gfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiaDVcIiwgY29sb3I6IFwicHJpbWFyeS5jb250cmFzdFRleHRcIiB9LCBjaGlsZHJlbikpKTtcbn07XG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7XG52YXIgdGVtcGxhdGVPYmplY3RfMTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJvdHRvbU5hdmlnYXRpb24sIEJvdHRvbU5hdmlnYXRpb25BY3Rpb24gfSBmcm9tICdAbXVpL21hdGVyaWFsJztcbmltcG9ydCB7IE5hdkxpbmssIHVzZUxvY2F0aW9uIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgQWNjb3VudEJhbGFuY2VXYWxsZXRJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQWNjb3VudEJhbGFuY2VXYWxsZXQnO1xuaW1wb3J0IFRpbWVsaW5lSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1RpbWVsaW5lJztcbmltcG9ydCBDdXJyZW5jeUV4Y2hhbmdlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0N1cnJlbmN5RXhjaGFuZ2UnO1xudmFyIE5hdkJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGF0aG5hbWUgPSB1c2VMb2NhdGlvbigpLnBhdGhuYW1lO1xuICAgIHZhciBfYSA9IHVzZVN0YXRlKHBhdGhuYW1lKSwgcGFnZSA9IF9hWzBdLCBzZXRQYWdlID0gX2FbMV07XG4gICAgdmFyIGhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChfZSwgbmV3UGFnZSkge1xuICAgICAgICBzZXRQYWdlKG5ld1BhZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEJvdHRvbU5hdmlnYXRpb24sIHsgdmFsdWU6IHBhZ2UsIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsIHNob3dMYWJlbHM6IHRydWUsIHN4OiB7XG4gICAgICAgICAgICB3aWR0aDogJzEwMCUnXG4gICAgICAgIH0gfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCb3R0b21OYXZpZ2F0aW9uQWN0aW9uLCB7IGxhYmVsOiBcIlBvcnRmb2xpb1wiLCB2YWx1ZTogXCIvY3J5cHRvXCIsIGNvbXBvbmVudDogTmF2TGluaywgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChBY2NvdW50QmFsYW5jZVdhbGxldEljb24sIG51bGwpLCB0bzogXCIvY3J5cHRvXCIgfSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm90dG9tTmF2aWdhdGlvbkFjdGlvbiwgeyBsYWJlbDogXCJNYXJrZXQgSGlzdG9yeVwiLCB2YWx1ZTogXCIvY3J5cHRvL2hpc3RvcnlcIiwgY29sb3I6IFwic2Vjb25kYXJ5XCIsIGNvbXBvbmVudDogTmF2TGluaywgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChUaW1lbGluZUljb24sIG51bGwpLCB0bzogXCIvY3J5cHRvL2hpc3RvcnlcIiB9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCb3R0b21OYXZpZ2F0aW9uQWN0aW9uLCB7IGxhYmVsOiBcIlRyYW5zYWN0aW9uc1wiLCB2YWx1ZTogXCIvY3J5cHRvL3RyYW5zYWN0aW9uc1wiLCBjb2xvcjogXCJzZWNvbmRhcnlcIiwgY29tcG9uZW50OiBOYXZMaW5rLCBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KEN1cnJlbmN5RXhjaGFuZ2VJY29uLCBudWxsKSwgdG86IFwiL2NyeXB0by90cmFuc2FjdGlvbnNcIiB9KSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IE5hdkJhcjtcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5pbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNdWlBbGVydCBmcm9tICdAbXVpL21hdGVyaWFsL0FsZXJ0JztcbmltcG9ydCB7IFR5cG9ncmFwaHkgfSBmcm9tICdAbXVpL21hdGVyaWFsJztcbmV4cG9ydCB2YXIgQWxlcnQgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KE11aUFsZXJ0LCBfX2Fzc2lnbih7IHN4OiB7XG4gICAgICAgICAgICB6SW5kZXg6IDEwMDAwLFxuICAgICAgICB9LCBlbGV2YXRpb246IDQsIHZhcmlhbnQ6IFwiZmlsbGVkXCIgfSwgcHJvcHMsIHsgcmVmOiByZWYgfSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyBzeDoge1xuICAgICAgICAgICAgICAgIG1heFdpZHRoOiAnMzAwcHgnLFxuICAgICAgICAgICAgICAgIHdvcmRXcmFwOiAnYnJlYWstd29yZCcsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxLjFlbScsXG4gICAgICAgICAgICB9IH0sIHByb3BzLmNoaWxkcmVuKSkpO1xufSk7XG5leHBvcnQgZGVmYXVsdCBBbGVydDtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTbmFja2JhciB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgdXNlU25hY2tiYXIgfSBmcm9tICcuL3VzZVNuYWNrYmFyJztcbmltcG9ydCBBbGVydCBmcm9tICcuL0FsZXJ0JztcbmV4cG9ydCB2YXIgUGhvbmVTbmFja2JhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIF9iID0gdXNlU25hY2tiYXIoKSwgYWxlcnQgPSBfYi5hbGVydCwgaXNPcGVuID0gX2IuaXNPcGVuLCBoYW5kbGVDbG9zZSA9IF9iLmhhbmRsZUNsb3NlO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChTbmFja2JhciwgeyBhdXRvSGlkZUR1cmF0aW9uOiAoX2EgPSBhbGVydCA9PT0gbnVsbCB8fCBhbGVydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxlcnQuZHVyYXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDMwMDAsIG9wZW46IGlzT3Blbiwgc3g6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIGJvdHRvbTogNzUsXG4gICAgICAgICAgICBsZWZ0OiAnMCAhaW1wb3J0YW50JyxcbiAgICAgICAgICAgIHJpZ2h0OiAnMCAhaW1wb3J0YW50JyxcbiAgICAgICAgfSwgb25DbG9zZTogaGFuZGxlQ2xvc2UgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChBbGVydCwgeyBzZXZlcml0eTogKGFsZXJ0ID09PSBudWxsIHx8IGFsZXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbGVydC50eXBlKSB8fCAnaW5mbycsIG9uQ2xvc2U6IGhhbmRsZUNsb3NlIH0sIChhbGVydCA9PT0gbnVsbCB8fCBhbGVydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxlcnQubWVzc2FnZSkgfHwgJycpKSk7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuLy8gQHRzLWlnbm9yZVxuZXhwb3J0IHZhciBTbmFja2JhckNvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xudmFyIFNuYWNrYmFyUHJvdmlkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbjtcbiAgICB2YXIgX2IgPSB1c2VTdGF0ZShmYWxzZSksIGlzT3BlbiA9IF9iWzBdLCBzZXRPcGVuID0gX2JbMV07XG4gICAgdmFyIF9jID0gdXNlU3RhdGUobnVsbCksIGFsZXJ0ID0gX2NbMF0sIHNldEFsZXJ0ID0gX2NbMV07XG4gICAgdmFyIGFkZEFsZXJ0ID0gZnVuY3Rpb24gKGFsZXJ0KSB7XG4gICAgICAgIHNldEFsZXJ0KGFsZXJ0KTtcbiAgICAgICAgc2V0T3Blbih0cnVlKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0T3BlbihmYWxzZSk7XG4gICAgfTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU25hY2tiYXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7XG4gICAgICAgICAgICBhbGVydDogYWxlcnQsXG4gICAgICAgICAgICBhZGRBbGVydDogYWRkQWxlcnQsXG4gICAgICAgICAgICBoYW5kbGVDbG9zZTogaGFuZGxlQ2xvc2UsXG4gICAgICAgICAgICBpc09wZW46IGlzT3BlblxuICAgICAgICB9IH0sIGNoaWxkcmVuKSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgU25hY2tiYXJQcm92aWRlcjtcbiIsImltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTbmFja2JhckNvbnRleHQgfSBmcm9tICcuL1NuYWNrYmFyUHJvdmlkZXInO1xuZXhwb3J0IHZhciB1c2VTbmFja2JhciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVzZUNvbnRleHQoU25hY2tiYXJDb250ZXh0KTsgfTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG4vKipcbiAqIFNpbXBsZSB3cmFwcGVyIGFyb3VuZCBmZXRjaCBBUEkgdGFpbG9yZWQgZm9yIENFRi9OVUkgdXNlLlxuICogQHBhcmFtIGV2ZW50TmFtZSAtIFRoZSBlbmRwb2ludCBldmVudG5hbWUgdG8gdGFyZ2V0XG4gKiBAcGFyYW0gZGF0YSAtIERhdGEgeW91IHdpc2ggdG8gc2VuZCBpbiB0aGUgTlVJIENhbGxiYWNrXG4gKlxuICogQHJldHVybiByZXR1cm5EYXRhIC0gQSBwcm9taXNlIGZvciB0aGUgZGF0YSBzZW50IGJhY2sgYnkgdGhlIE51aUNhbGxiYWNrcyBDQiBhcmd1bWVudFxuICovXG5pbXBvcnQgeyBpc0VudkJyb3dzZXIgfSBmcm9tICcuL21pc2MnO1xuZnVuY3Rpb24gZmV0Y2hOdWkoZXZlbnROYW1lLCBkYXRhLCBtb2NrUmVzcCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsIHJlc291cmNlTmFtZSwgcmVzcCwgcmVzcG9uc2VPYmo7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbnZCcm93c2VyKCkgJiYgbW9ja1Jlc3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBtb2NrUmVzcF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VOYW1lID0gJ25wd2RfY3J5cHRvJztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2goXCJodHRwczovL1wiLmNvbmNhdChyZXNvdXJjZU5hbWUsIFwiL1wiKS5jb25jYXQoZXZlbnROYW1lKSwgb3B0aW9ucyldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcmVzcCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcC5qc29uKCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPYmogPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNwb25zZU9ial07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgZmV0Y2hOdWk7XG4iLCJ2YXIgX19tYWtlVGVtcGxhdGVPYmplY3QgPSAodGhpcyAmJiB0aGlzLl9fbWFrZVRlbXBsYXRlT2JqZWN0KSB8fCBmdW5jdGlvbiAoY29va2VkLCByYXcpIHtcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxuICAgIHJldHVybiBjb29rZWQ7XG59O1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENoYXJ0IGFzIENoYXJ0SlMsIENhdGVnb3J5U2NhbGUsIExpbmVhclNjYWxlLCBQb2ludEVsZW1lbnQsIExpbmVFbGVtZW50LCBUaXRsZSwgVG9vbHRpcCwgTGVnZW5kLCB9IGZyb20gJ2NoYXJ0LmpzJztcbmltcG9ydCB7IExpbmUgfSBmcm9tICdyZWFjdC1jaGFydGpzLTInO1xuaW1wb3J0IHsgZ3JlZW4sIG9yYW5nZSwgcmVkIH0gZnJvbSBcIkBtdWkvbWF0ZXJpYWwvY29sb3JzXCI7XG5pbXBvcnQgc3R5bGVkIGZyb20gXCJzdHlsZWQtY29tcG9uZW50c1wiO1xuaW1wb3J0IHsgUGFwZXIsIFR5cG9ncmFwaHksIHVzZVRoZW1lIH0gZnJvbSBcIkBtdWkvbWF0ZXJpYWxcIjtcbmltcG9ydCB7IHVzZVJlY29pbFZhbHVlIH0gZnJvbSBcInJlY29pbFwiO1xuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuLi9hdG9tcy9hcHAtYXRvbXMnO1xuQ2hhcnRKUy5yZWdpc3RlcihDYXRlZ29yeVNjYWxlLCBMaW5lYXJTY2FsZSwgUG9pbnRFbGVtZW50LCBMaW5lRWxlbWVudCwgVGl0bGUsIFRvb2x0aXAsIExlZ2VuZCk7XG52YXIgQ29udGFpbmVyID0gc3R5bGVkLmRpdih0ZW1wbGF0ZU9iamVjdF8xIHx8ICh0ZW1wbGF0ZU9iamVjdF8xID0gX19tYWtlVGVtcGxhdGVPYmplY3QoW1wiXFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAzZnIgMWZyO1xcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAzLjVyZW0pO1xcbiAgcGxhY2UtaXRlbXM6IGNlbnRlcjtcXG5cIl0sIFtcIlxcbiAgZGlzcGxheTogZ3JpZDtcXG4gIGdyaWQtdGVtcGxhdGUtcm93czogM2ZyIDFmcjtcXG4gIGhlaWdodDogY2FsYygxMDAlIC0gMy41cmVtKTtcXG4gIHBsYWNlLWl0ZW1zOiBjZW50ZXI7XFxuXCJcbiAgICAvLyBSZXR1cm5zIDEgaWYgdXAsIDAgaWYgZG93blxuXSkpKTtcbi8vIFJldHVybnMgMSBpZiB1cCwgMCBpZiBkb3duXG52YXIgZ2V0UGVyY2VudERpZmZlcmVuY2UgPSBmdW5jdGlvbiAobWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID4gbWluKSB7XG4gICAgICAgIHZhciBkaWZmZXJlbmNlID0gKG1heCAtIG1pbikgLyBtaW47XG4gICAgICAgIHZhciBwZXJjZW50ID0gKGRpZmZlcmVuY2UgKiAxMDApLnRvRml4ZWQoMik7XG4gICAgICAgIHJldHVybiBbMSwgcGVyY2VudF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgZGlmZmVyZW5jZSA9ICgobWF4IC0gbWluKSAvIG1heCkgKiAtMTsgLy8gUmVtb3ZlIG5lZ2F0aXZlIGJlY2F1c2UgaW52ZXJzZSBwZXJjZW50YWdlXG4gICAgICAgIHZhciBwZXJjZW50ID0gKGRpZmZlcmVuY2UgKiAxMDApLnRvRml4ZWQoMik7XG4gICAgICAgIHJldHVybiBbMCwgcGVyY2VudF07XG4gICAgfVxufTtcbmV4cG9ydCB2YXIgSGlzdG9yeSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJpY2VIaXN0b3J5ID0gdXNlUmVjb2lsVmFsdWUoc3RhdGUuaGlzdG9yeSk7XG4gICAgdmFyIExFTkdUSCA9IHByaWNlSGlzdG9yeS5sZW5ndGg7XG4gICAgdmFyIGxhYmVscyA9IG5ldyBBcnJheShMRU5HVEgpLmZpbGwoXCJcIik7XG4gICAgdmFyIHRoZW1lID0gdXNlVGhlbWUoKTtcbiAgICB2YXIgaXNEYXJrbW9kZSA9IHRoZW1lLnBhbGV0dGUubW9kZSA9PT0gJ2RhcmsnO1xuICAgIHZhciBkYXRhID0ge1xuICAgICAgICBsYWJlbHM6IGxhYmVscyxcbiAgICAgICAgZGF0YXNldHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBwcmljZUhpc3RvcnksXG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IG9yYW5nZVs1MDBdLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogb3JhbmdlWzcwMF0sXG4gICAgICAgICAgICAgICAgdGVuc2lvbjogMC4yXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH07XG4gICAgdmFyIF9hID0gZ2V0UGVyY2VudERpZmZlcmVuY2UocHJpY2VIaXN0b3J5WzBdLCBwcmljZUhpc3RvcnlbTEVOR1RIIC0gMV0pLCB1cCA9IF9hWzBdLCBwZXJjZW50ID0gX2FbMV07XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lciwgbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaW5lLCB7IG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBsdWdpbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZnVuY3Rpb24gKGN0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCIkXCIgKyBjdHgucmF3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gJyQnICsgdmFsdWU7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGlzRGFya21vZGUgPyBcIiNmNWY1ZjVcIiA6IFwiIzNGM0YzRkE2XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogaXNEYXJrbW9kZSA/IFwiI2Y1ZjVmNVwiIDogXCIjM0YzRjNGQTZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sIGRhdGE6IGRhdGEgfSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFwZXIsIHsgc3g6IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDUwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjkwJVwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB9LCBlbGV2YXRpb246IDMsIHZhcmlhbnQ6IFwib3V0bGluZWRcIiB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHN4OiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB1cCA9PT0gMSA/IGdyZWVuWzUwMF0gOiByZWRbNTAwXSxcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCJcbiAgICAgICAgICAgICAgICB9IH0sIHVwID09PSAxID9cbiAgICAgICAgICAgICAgICBcIlVwIFwiICsgcGVyY2VudCArIFwiJVwiIDpcbiAgICAgICAgICAgICAgICBcIkRvd24gXCIgKyBwZXJjZW50ICsgXCIlXCIpKSkpO1xufTtcbnZhciB0ZW1wbGF0ZU9iamVjdF8xO1xuIiwidmFyIF9fbWFrZVRlbXBsYXRlT2JqZWN0ID0gKHRoaXMgJiYgdGhpcy5fX21ha2VUZW1wbGF0ZU9iamVjdCkgfHwgZnVuY3Rpb24gKGNvb2tlZCwgcmF3KSB7XG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cbiAgICByZXR1cm4gY29va2VkO1xufTtcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJ1dHRvbiwgUGFwZXIsIHN0eWxlZCBhcyBNdWlTdHlsZWQsIERpYWxvZywgfSBmcm9tIFwiQG11aS9tYXRlcmlhbFwiO1xuaW1wb3J0IHN0eWxlZCBmcm9tIFwic3R5bGVkLWNvbXBvbmVudHNcIjtcbmltcG9ydCBDYXNoVmFsdWUgZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9BdHRhY2hNb25leSc7XG5pbXBvcnQgU2VsbEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9TZWxsJztcbmltcG9ydCBUcmFuc2ZlciBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1N1YmRpcmVjdG9yeUFycm93UmlnaHQnO1xuaW1wb3J0IHsgQmFsYW5jZUxpc3QgfSBmcm9tICcuLi9jb21wb25lbnRzL0JhbGFuY2VMaXN0JztcbmltcG9ydCB7IEJ1eURpYWxvZ3VlLCBTZWxsRGlhbG9ndWUsIFRyYWRlRGlhbG9ndWUgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9EaWFsb2d1ZVwiO1xuaW1wb3J0IHsgdXNlUmVjb2lsVmFsdWUgfSBmcm9tIFwicmVjb2lsXCI7XG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gJy4uL2F0b21zL2FwcC1hdG9tcyc7XG52YXIgQ29udGFpbmVyID0gc3R5bGVkLmRpdih0ZW1wbGF0ZU9iamVjdF8xIHx8ICh0ZW1wbGF0ZU9iamVjdF8xID0gX19tYWtlVGVtcGxhdGVPYmplY3QoW1wiXFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxZnIgMmZyO1xcbiAgaGVpZ2h0OiA5MCU7XFxuICBnYXA6IDEuNXJlbTtcXG4gIHBsYWNlLWl0ZW1zOiBjZW50ZXI7XFxuXCJdLCBbXCJcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmciAyZnI7XFxuICBoZWlnaHQ6IDkwJTtcXG4gIGdhcDogMS41cmVtO1xcbiAgcGxhY2UtaXRlbXM6IGNlbnRlcjtcXG5cIl0pKSk7XG5leHBvcnQgdmFyIFBvcnRmb2xpbyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYmFsYW5jZSA9IHVzZVJlY29pbFZhbHVlKHN0YXRlLmJhbGFuY2UpO1xuICAgIHZhciB2YWx1ZSA9IHVzZVJlY29pbFZhbHVlKHN0YXRlLmN1cnJlbnRWYWx1ZSk7XG4gICAgdmFyIF9hID0gdXNlU3RhdGUoZmFsc2UpLCBidXlPcGVuID0gX2FbMF0sIHNldEJ1eU9wZW4gPSBfYVsxXTtcbiAgICB2YXIgX2IgPSB1c2VTdGF0ZShmYWxzZSksIHNlbGxPcGVuID0gX2JbMF0sIHNldFNlbGxPcGVuID0gX2JbMV07XG4gICAgdmFyIF9jID0gdXNlU3RhdGUoZmFsc2UpLCB0cmFkZU9wZW4gPSBfY1swXSwgc2V0VHJhZGVPcGVuID0gX2NbMV07XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lciwgbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChQYXBlciwgeyBlbGV2YXRpb246IDQsIHZhcmlhbnQ6IFwib3V0bGluZWRcIiwgc3g6IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAzMDAsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmFsYW5jZUxpc3QsIHsgdmFsdWU6IHZhbHVlLCBiYWxhbmNlOiBiYWxhbmNlIH0pKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb250cm9sQnV0dG9ucywgeyBzZXRCdXlPcGVuOiBzZXRCdXlPcGVuLCBzZXRTZWxsT3Blbjogc2V0U2VsbE9wZW4sIHNldFRyYWRlT3Blbjogc2V0VHJhZGVPcGVuIH0pLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERpYWxvZywgeyBvcGVuOiBidXlPcGVuLCBvbkNsb3NlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXRCdXlPcGVuKGZhbHNlKTsgfSwgaGlkZUJhY2tkcm9wOiB0cnVlLCBkaXNhYmxlUG9ydGFsOiB0cnVlIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1eURpYWxvZ3VlLCB7IGNsb3NlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXRCdXlPcGVuKGZhbHNlKTsgfSB9KSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nLCB7IG9wZW46IHNlbGxPcGVuLCBvbkNsb3NlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXRTZWxsT3BlbihmYWxzZSk7IH0sIGhpZGVCYWNrZHJvcDogdHJ1ZSwgZGlzYWJsZVBvcnRhbDogdHJ1ZSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTZWxsRGlhbG9ndWUsIHsgY2xvc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNldFNlbGxPcGVuKGZhbHNlKTsgfSB9KSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nLCB7IG9wZW46IHRyYWRlT3Blbiwgb25DbG9zZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2V0VHJhZGVPcGVuKGZhbHNlKTsgfSwgaGlkZUJhY2tkcm9wOiB0cnVlLCBkaXNhYmxlUG9ydGFsOiB0cnVlIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRyYWRlRGlhbG9ndWUsIHsgY2xvc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNldFRyYWRlT3BlbihmYWxzZSk7IH0gfSkpKSk7XG59O1xudmFyIEFjdGlvbkJ1dHRvbiA9IE11aVN0eWxlZChCdXR0b24pKHtcbiAgICB3aWR0aDogMzAwLFxuICAgIGhlaWdodDogNjAsXG59KTtcbnZhciBCdXR0b25Db250YWluZXIgPSBzdHlsZWQuZGl2KHRlbXBsYXRlT2JqZWN0XzIgfHwgKHRlbXBsYXRlT2JqZWN0XzIgPSBfX21ha2VUZW1wbGF0ZU9iamVjdChbXCJcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBwbGFjZS1pdGVtczogY2VudGVyO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxZnIgMWZyIDFmcjtcXG4gIGdhcDogMXJlbTtcXG5cIl0sIFtcIlxcbiAgZGlzcGxheTogZ3JpZDtcXG4gIHBsYWNlLWl0ZW1zOiBjZW50ZXI7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmciAxZnIgMWZyO1xcbiAgZ2FwOiAxcmVtO1xcblwiXSkpKTtcbnZhciBDb250cm9sQnV0dG9ucyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzZXRCdXlPcGVuID0gX2Euc2V0QnV5T3Blbiwgc2V0U2VsbE9wZW4gPSBfYS5zZXRTZWxsT3Blbiwgc2V0VHJhZGVPcGVuID0gX2Euc2V0VHJhZGVPcGVuO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b25Db250YWluZXIsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWN0aW9uQnV0dG9uLCB7IHZhcmlhbnQ6IFwiY29udGFpbmVkXCIsIGVuZEljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsbEljb24sIG51bGwpLCBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXRCdXlPcGVuKHRydWUpOyB9IH0sIFwiQnV5XCIpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEFjdGlvbkJ1dHRvbiwgeyB2YXJpYW50OiBcImNvbnRhaW5lZFwiLCBlbmRJY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KENhc2hWYWx1ZSwgbnVsbCksIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNldFNlbGxPcGVuKHRydWUpOyB9IH0sIFwiU2VsbFwiKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChBY3Rpb25CdXR0b24sIHsgdmFyaWFudDogXCJjb250YWluZWRcIiwgZW5kSWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2ZlciwgbnVsbCksIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNldFRyYWRlT3Blbih0cnVlKTsgfSB9LCBcIlRyYW5zZmVyXCIpKSk7XG59O1xudmFyIHRlbXBsYXRlT2JqZWN0XzEsIHRlbXBsYXRlT2JqZWN0XzI7XG4iLCJpbXBvcnQgeyBMaXN0IH0gZnJvbSBcIkBtdWkvbWF0ZXJpYWxcIjtcbmltcG9ydCBCYWxhbmNlIGZyb20gXCJAbXVpL2ljb25zLW1hdGVyaWFsL0FjY291bnRCYWxhbmNlV2FsbGV0XCI7XG5pbXBvcnQgQ2FzaFZhbHVlIGZyb20gXCJAbXVpL2ljb25zLW1hdGVyaWFsL0F0dGFjaE1vbmV5XCI7XG5pbXBvcnQgQ3VycmVuY3lCaXRjb2luSWNvbiBmcm9tIFwiQG11aS9pY29ucy1tYXRlcmlhbC9DdXJyZW5jeUJpdGNvaW5cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEF2YXRhckxpc3RJdGVtIH0gZnJvbSBcIi4vQXZhdGFyTGlzdEl0ZW1cIjtcbmV4cG9ydCB2YXIgQmFsYW5jZUxpc3QgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgdmFsdWUgPSBfYS52YWx1ZSwgYmFsYW5jZSA9IF9hLmJhbGFuY2U7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpc3QsIHsgc3g6IHsgd2lkdGg6IFwiMTAwJVwiIH0gfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChBdmF0YXJMaXN0SXRlbSwgeyBoZWFkaW5nOiBcIkJhbGFuY2VcIiwgdGV4dDogYmFsYW5jZS50b1N0cmluZygpLCBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KEJhbGFuY2UsIHsgZm9udFNpemU6IFwibWVkaXVtXCIsIGNvbG9yOiBcInByaW1hcnlcIiB9KSB9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChBdmF0YXJMaXN0SXRlbSwgeyBoZWFkaW5nOiBcIkNhc2ggVmFsdWVcIiwgdGV4dDogXCIkXCIuY29uY2F0KChiYWxhbmNlICogdmFsdWUpLnRvRml4ZWQoMikpLCBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KENhc2hWYWx1ZSwgeyBmb250U2l6ZTogXCJtZWRpdW1cIiwgY29sb3I6IFwicHJpbWFyeVwiIH0pIH0pLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEF2YXRhckxpc3RJdGVtLCB7IGhlYWRpbmc6IFwiQ3J5cHRvIFdvcnRoXCIsIHRleHQ6IFwiJFwiLmNvbmNhdCh2YWx1ZSksIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ3VycmVuY3lCaXRjb2luSWNvbiwgeyBmb250U2l6ZTogXCJtZWRpdW1cIiwgY29sb3I6IFwicHJpbWFyeVwiIH0pIH0pKSk7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQnV0dG9uLCBEaWFsb2dBY3Rpb25zLCBEaWFsb2dDb250ZW50LCBEaWFsb2dUaXRsZSwgRm9ybUdyb3VwLCBJbnB1dEFkb3JubWVudCwgVHlwb2dyYXBoeSwgfSBmcm9tIFwiQG11aS9tYXRlcmlhbFwiO1xuaW1wb3J0IHsgdXNlUmVjb2lsVmFsdWUsIHVzZVNldFJlY29pbFN0YXRlIH0gZnJvbSBcInJlY29pbFwiO1xuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuLi9hdG9tcy9hcHAtYXRvbXMnO1xuaW1wb3J0IGZldGNoTnVpIGZyb20gXCIuLi91dGlscy9mZXRjaE51aVwiO1xuaW1wb3J0IHsgdXNlU25hY2tiYXIgfSBmcm9tIFwiLi9zbmFja2Jhci91c2VTbmFja2JhclwiO1xuaW1wb3J0IHsgVGV4dEZpZWxkIH0gZnJvbSAnbGF5b3V0L3VpJztcbmV4cG9ydCB2YXIgQnV5RGlhbG9ndWUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2xvc2UgPSBfYS5jbG9zZTtcbiAgICB2YXIgX2IgPSB1c2VTdGF0ZShcIlwiKSwgYW1vdW50ID0gX2JbMF0sIHNldEFtb3VudCA9IF9iWzFdO1xuICAgIHZhciBfYyA9IHVzZVN0YXRlKGZhbHNlKSwgZXJyb3IgPSBfY1swXSwgc2V0RXJyb3IgPSBfY1sxXTtcbiAgICB2YXIgY3VycmVudFJhdGUgPSB1c2VSZWNvaWxWYWx1ZShzdGF0ZS5jdXJyZW50VmFsdWUpO1xuICAgIHZhciBzZXRCYWxhbmNlID0gdXNlU2V0UmVjb2lsU3RhdGUoc3RhdGUuYmFsYW5jZSk7XG4gICAgdmFyIGFkZEFsZXJ0ID0gdXNlU25hY2tiYXIoKS5hZGRBbGVydDtcbiAgICB2YXIgaGFuZGxlQnV5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbnVtYmVyID0gcGFyc2VGbG9hdChhbW91bnQpO1xuICAgICAgICBmZXRjaE51aSgnbnB3ZF9jcnlwdG86dHJ5QnV5Q3J5cHRvJywge1xuICAgICAgICAgICAgYW1vdW50OiBudW1iZXJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcih0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwLmRhdGEucmVhc29uLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEVycm9yKGZhbHNlKTtcbiAgICAgICAgICAgIHNldEJhbGFuY2UocmVzcC5kYXRhLm5ld0JhbCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHNldEFtb3VudChlLnRhcmdldC52YWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nVGl0bGUsIG51bGwsIFwiIENvbmZpcm0gUHVyY2hhc2UgXCIpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERpYWxvZ0NvbnRlbnQsIG51bGwsXG4gICAgICAgICAgICBhbW91bnQgJiZcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIFwiWW91IHdpbGwgcmVjZWl2ZSBcIixcbiAgICAgICAgICAgICAgICAgICAgKHBhcnNlRmxvYXQoYW1vdW50KSAvIGN1cnJlbnRSYXRlKS50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgICAgICAgICBcIiBiaXRzXCIpLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0RmllbGQsIHsgdmFsdWU6IGFtb3VudCwgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwgcGxhY2Vob2xkZXI6IFwiQW1vdW50XCIsIHR5cGU6IFwibnVtYmVyXCIsIGVycm9yOiBlcnJvciwgSW5wdXRQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICBzdGFydEFkb3JubWVudDogUmVhY3QuY3JlYXRlRWxlbWVudChJbnB1dEFkb3JubWVudCwgeyBwb3NpdGlvbjogXCJzdGFydFwiLCB2YXJpYW50OiBcInN0YW5kYXJkXCIgfSwgXCIkXCIpXG4gICAgICAgICAgICAgICAgfSB9KSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nQWN0aW9ucywgbnVsbCxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7IHZhcmlhbnQ6IFwidGV4dFwiLCBjb2xvcjogXCJlcnJvclwiLCBvbkNsaWNrOiBjbG9zZSB9LCBcIkNhbmNlbFwiKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7IHZhcmlhbnQ6IFwidGV4dFwiLCBjb2xvcjogXCJzdWNjZXNzXCIsIG9uQ2xpY2s6IGhhbmRsZUJ1eSB9LCBcIkNvbmZpcm1cIikpKSk7XG59O1xuZXhwb3J0IHZhciBTZWxsRGlhbG9ndWUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2xvc2UgPSBfYS5jbG9zZTtcbiAgICB2YXIgX2IgPSB1c2VTdGF0ZShcIlwiKSwgYW1vdW50ID0gX2JbMF0sIHNldEFtb3VudCA9IF9iWzFdO1xuICAgIHZhciBfYyA9IHVzZVN0YXRlKGZhbHNlKSwgZXJyb3IgPSBfY1swXSwgc2V0RXJyb3IgPSBfY1sxXTtcbiAgICB2YXIgY3VycmVudFJhdGUgPSB1c2VSZWNvaWxWYWx1ZShzdGF0ZS5jdXJyZW50VmFsdWUpO1xuICAgIHZhciBzZXRCYWxhbmNlID0gdXNlU2V0UmVjb2lsU3RhdGUoc3RhdGUuYmFsYW5jZSk7XG4gICAgdmFyIGFkZEFsZXJ0ID0gdXNlU25hY2tiYXIoKS5hZGRBbGVydDtcbiAgICB2YXIgaGFuZGxlU2VsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG51bWJlciA9IHBhcnNlRmxvYXQoYW1vdW50KTtcbiAgICAgICAgZmV0Y2hOdWkoJ25wd2RfY3J5cHRvOnRyeVNlbGxDcnlwdG8nLCB7XG4gICAgICAgICAgICBhbW91bnQ6IG51bWJlclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGRBbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3AuZGF0YS5yZWFzb24sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RXJyb3IoZmFsc2UpO1xuICAgICAgICAgICAgc2V0QmFsYW5jZShyZXNwLmRhdGEubmV3QmFsKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc2V0QW1vdW50KGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEaWFsb2dUaXRsZSwgbnVsbCwgXCIgQ29uZmlybSBTZWxsIFwiKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEaWFsb2dDb250ZW50LCBudWxsLFxuICAgICAgICAgICAgYW1vdW50ICYmXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBcIllvdSB3aWxsIHJlY2VpdmUgJFwiLFxuICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGFtb3VudCkgKiBjdXJyZW50UmF0ZSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRGaWVsZCwgeyB2YWx1ZTogYW1vdW50LCBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLCBwbGFjZWhvbGRlcjogXCJBbW91bnRcIiwgdHlwZTogXCJudW1iZXJcIiwgZXJyb3I6IGVycm9yIH0pKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEaWFsb2dBY3Rpb25zLCBudWxsLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgdmFyaWFudDogXCJ0ZXh0XCIsIGNvbG9yOiBcImVycm9yXCIsIG9uQ2xpY2s6IGNsb3NlIH0sIFwiQ2FuY2VsXCIpLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgdmFyaWFudDogXCJ0ZXh0XCIsIGNvbG9yOiBcInN1Y2Nlc3NcIiwgb25DbGljazogaGFuZGxlU2VsbCB9LCBcIkNvbmZpcm1cIikpKSk7XG59O1xuZXhwb3J0IHZhciBUcmFkZURpYWxvZ3VlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNsb3NlID0gX2EuY2xvc2U7XG4gICAgdmFyIF9iID0gdXNlU3RhdGUoXCJcIiksIGFtb3VudCA9IF9iWzBdLCBzZXRBbW91bnQgPSBfYlsxXTtcbiAgICB2YXIgX2MgPSB1c2VTdGF0ZShcIlwiKSwgc291cmNlID0gX2NbMF0sIHNldFNvdXJjZSA9IF9jWzFdO1xuICAgIHZhciBfZCA9IHVzZVN0YXRlKGZhbHNlKSwgZXJyb3IgPSBfZFswXSwgc2V0RXJyb3IgPSBfZFsxXTtcbiAgICB2YXIgY3VycmVudFJhdGUgPSB1c2VSZWNvaWxWYWx1ZShzdGF0ZS5jdXJyZW50VmFsdWUpO1xuICAgIHZhciBzZXRCYWxhbmNlID0gdXNlU2V0UmVjb2lsU3RhdGUoc3RhdGUuYmFsYW5jZSk7XG4gICAgdmFyIGFkZEFsZXJ0ID0gdXNlU25hY2tiYXIoKS5hZGRBbGVydDtcbiAgICB2YXIgaGFuZGxlVHJhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBudW1iZXIgPSBwYXJzZUZsb2F0KGFtb3VudCk7XG4gICAgICAgIHZhciBpZCA9IHBhcnNlSW50KHNvdXJjZSk7XG4gICAgICAgIGZldGNoTnVpKCducHdkX2NyeXB0bzp0cnlUcmFkZUNyeXB0bycsIHtcbiAgICAgICAgICAgIGFtb3VudDogbnVtYmVyLFxuICAgICAgICAgICAgdGFyZ2V0OiBpZFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGRBbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3AuZGF0YS5yZWFzb24sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RXJyb3IoZmFsc2UpO1xuICAgICAgICAgICAgc2V0QmFsYW5jZShyZXNwLmRhdGEubmV3QmFsKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlQW1vdW50Q2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc2V0QW1vdW50KGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVTb3VyY2VDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzZXRTb3VyY2UoZS50YXJnZXQudmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERpYWxvZ1RpdGxlLCBudWxsLCBcIiBDb25maXJtIFRyYWRlIFwiKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEaWFsb2dDb250ZW50LCBudWxsLFxuICAgICAgICAgICAgYW1vdW50ICYmXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBcIllvdSB3aWxsIHJlY2VpdmUgJFwiLFxuICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGFtb3VudCkgKiBjdXJyZW50UmF0ZSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1Hcm91cCwgbnVsbCxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRGaWVsZCwgeyB2YWx1ZTogYW1vdW50LCBvbkNoYW5nZTogaGFuZGxlQW1vdW50Q2hhbmdlLCBwbGFjZWhvbGRlcjogXCJBbW91bnRcIiwgdHlwZTogXCJudW1iZXJcIiwgZXJyb3I6IGVycm9yIH0pLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dEZpZWxkLCB7IHZhbHVlOiBzb3VyY2UsIG9uQ2hhbmdlOiBoYW5kbGVTb3VyY2VDaGFuZ2UsIHBsYWNlaG9sZGVyOiBcIlBsYXllciBJRFwiLCB0eXBlOiBcIm51bWJlclwiLCBlcnJvcjogZXJyb3IgfSkpKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEaWFsb2dBY3Rpb25zLCBudWxsLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgdmFyaWFudDogXCJ0ZXh0XCIsIGNvbG9yOiBcImVycm9yXCIsIG9uQ2xpY2s6IGNsb3NlIH0sIFwiQ2FuY2VsXCIpLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgdmFyaWFudDogXCJ0ZXh0XCIsIGNvbG9yOiBcInN1Y2Nlc3NcIiwgb25DbGljazogaGFuZGxlVHJhZGUgfSwgXCJDb25maXJtXCIpKSkpO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2FzaFZhbHVlIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQXR0YWNoTW9uZXknO1xuaW1wb3J0IFNlbGxJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvU2VsbCc7XG5pbXBvcnQgVHJhbnNmZXIgZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9TdWJkaXJlY3RvcnlBcnJvd1JpZ2h0JztcbmltcG9ydCB7IERpdmlkZXIsIExpc3QsIFBhcGVyIH0gZnJvbSBcIkBtdWkvbWF0ZXJpYWxcIjtcbmltcG9ydCB7IEF2YXRhckxpc3RJdGVtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXZhdGFyTGlzdEl0ZW1cIjtcbmltcG9ydCB7IHVzZVJlY29pbFN0YXRlIH0gZnJvbSBcInJlY29pbFwiO1xuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICcuLi9hdG9tcy9hcHAtYXRvbXMnO1xuaW1wb3J0IGZldGNoTnVpIGZyb20gXCIuLi91dGlscy9mZXRjaE51aVwiO1xudmFyIGljb25zID0ge1xuICAgIGJvdWdodDogUmVhY3QuY3JlYXRlRWxlbWVudChTZWxsSWNvbiwgeyBjb2xvcjogXCJlcnJvclwiIH0pLFxuICAgIHNvbGQ6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FzaFZhbHVlLCB7IGNvbG9yOiBcInN1Y2Nlc3NcIiB9KSxcbiAgICB0cmFuc2ZlcnJlZDogUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2ZlciwgeyBjb2xvcjogXCJpbmZvXCIgfSlcbn07XG52YXIgaGVhZGluZ3MgPSB7XG4gICAgYm91Z2h0OiBcIlB1cmNoYXNlXCIsXG4gICAgc29sZDogXCJTb2xkXCIsXG4gICAgdHJhbnNmZXJyZWQ6IFwiVHJhbnNmZXJcIlxufTtcbnZhciBnZXRMaXN0SXRlbVRleHQgPSBmdW5jdGlvbiAodHlwZSwgYW1vdW50LCB2YWx1ZSwgaXNSZWNlaXZpbmcpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJvdWdodFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiQm91Z2h0IFwiLmNvbmNhdChhbW91bnQsIFwiIGZvciAkXCIpLmNvbmNhdCh2YWx1ZSk7XG4gICAgICAgIGNhc2UgXCJzb2xkXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJTb2xkIFwiLmNvbmNhdChhbW91bnQsIFwiIGZvciAkXCIpLmNvbmNhdCh2YWx1ZSk7XG4gICAgICAgIGNhc2UgXCJ0cmFuc2ZlcnJlZFwiOlxuICAgICAgICAgICAgcmV0dXJuIGlzUmVjZWl2aW5nID9cbiAgICAgICAgICAgICAgICBcIlJlY2VpdmVkIFwiLmNvbmNhdChhbW91bnQsIFwiIHdvcnRoIFwiKS5jb25jYXQodmFsdWUpIDpcbiAgICAgICAgICAgICAgICBcIlNlbnQgXCIuY29uY2F0KGFtb3VudCwgXCIgd29ydGggXCIpLmNvbmNhdCh2YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gXCJTb21ldGhpbmcncyB3cm9uZyBoZXJlIEkgY2FuIGZlZWwgaXQuXCI7XG4gICAgfVxufTtcbmV4cG9ydCB2YXIgVHJhbnNhY3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHVzZVJlY29pbFN0YXRlKHN0YXRlLnRyYW5zYWN0aW9ucyksIGRhdGEgPSBfYVswXSwgc2V0RGF0YSA9IF9hWzFdO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZldGNoTnVpKCducHdkX2NyeXB0bzpmZXRjaFRyYW5zYWN0aW9ucycpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgICAgICAgIHNldERhdGEocmVzcCk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFwZXIsIHsgc3g6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCJcbiAgICAgICAgfSwgdmFyaWFudDogXCJvdXRsaW5lZFwiLCBzcXVhcmU6IHRydWUgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0LCB7IGRlbnNlOiB0cnVlLCBzeDoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93WDogXCJoaWRkZW5cIlxuICAgICAgICAgICAgfSB9LCBkYXRhLm1hcChmdW5jdGlvbiAoX2EsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IF9hLnR5cGUsIGFtb3VudCA9IF9hLmFtb3VudCwgdmFsdWUgPSBfYS52YWx1ZSwgaXNSZWNlaXZpbmcgPSBfYS5pc1JlY2VpdmluZztcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEF2YXRhckxpc3RJdGVtLCB7IGhlYWRpbmc6IGhlYWRpbmdzW3R5cGVdLCB0ZXh0OiBnZXRMaXN0SXRlbVRleHQodHlwZSwgYW1vdW50LCB2YWx1ZSwgaXNSZWNlaXZpbmcpLCBpY29uOiBpY29uc1t0eXBlXSwga2V5OiBpbmRleCB9KSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERpdmlkZXIsIG51bGwpKSk7XG4gICAgICAgIH0pKSkpO1xufTtcbiJdLCJuYW1lcyI6WyJBUFBfUFJJTUFSWV9DT0xPUiIsIm9yYW5nZSIsIkxJR0hUX0FQUF9URVhUX0NPTE9SIiwiY29tbW9uIiwidGhlbWVzIiwibGlnaHQiLCJwYWxldHRlIiwibW9kZSIsInByaW1hcnkiLCJtYWluIiwiZGFyayIsImNvbnRyYXN0VGV4dCIsInNlY29uZGFyeSIsIl9hIiwiY2hpbGRyZW4iLCJ0aGVtZU9wdGlvbnMiLCJ0aGVtZSIsImNyZWF0ZVRoZW1lIiwiVGhlbWVQcm92aWRlciIsInN0YXRlIiwiY3VycmVudFZhbHVlIiwiYXRvbSIsImtleSIsImRlZmF1bHQiLCJiYWxhbmNlIiwiaGlzdG9yeSIsInRyYW5zYWN0aW9ucyIsIkF2YXRhckxpc3RJdGVtIiwiaGVhZGluZyIsInRleHQiLCJpY29uIiwiY29va2VkIiwicmF3IiwiQ29udGFpbmVyIiwidGVtcGxhdGVPYmplY3RfMSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ2YXJpYW50IiwiY29sb3IiLCJwYXRobmFtZSIsInVzZUxvY2F0aW9uIiwidXNlU3RhdGUiLCJwYWdlIiwic2V0UGFnZSIsIm9uQ2hhbmdlIiwiX2UiLCJuZXdQYWdlIiwic2hvd0xhYmVscyIsInN4Iiwid2lkdGgiLCJsYWJlbCIsImNvbXBvbmVudCIsIk5hdkxpbmsiLCJ0byIsIl9fYXNzaWduIiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsInRoaXMiLCJmb3J3YXJkUmVmIiwicHJvcHMiLCJyZWYiLCJ6SW5kZXgiLCJlbGV2YXRpb24iLCJUeXBvZ3JhcGh5IiwibWF4V2lkdGgiLCJ3b3JkV3JhcCIsImZvbnRTaXplIiwiUGhvbmVTbmFja2JhciIsIl9iIiwidXNlU25hY2tiYXIiLCJhbGVydCIsImlzT3BlbiIsImhhbmRsZUNsb3NlIiwiU25hY2tiYXIiLCJhdXRvSGlkZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJvcGVuIiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsImhlaWdodCIsInBvc2l0aW9uIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0Iiwib25DbG9zZSIsInNldmVyaXR5IiwidHlwZSIsIm1lc3NhZ2UiLCJTbmFja2JhckNvbnRleHQiLCJjcmVhdGVDb250ZXh0Iiwic2V0T3BlbiIsIl9jIiwic2V0QWxlcnQiLCJQcm92aWRlciIsImFkZEFsZXJ0IiwidXNlQ29udGV4dCIsIlMiLCJldmVudE5hbWUiLCJkYXRhIiwibW9ja1Jlc3AiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsImdlbmVyYXRvciIsIm9wdGlvbnMiLCJib2R5IiwiZiIsInkiLCJnIiwiXyIsInNlbnQiLCJ0cnlzIiwib3BzIiwibmV4dCIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJwb3AiLCJwdXNoIiwiZSIsInN0ZXAiLCJfX2dlbmVyYXRvciIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiZmV0Y2giLCJjb25jYXQiLCJqc29uIiwiUCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJ0aGVuIiwiQ2hhcnQiLCJDYXRlZ29yeVNjYWxlIiwiTGluZWFyU2NhbGUiLCJQb2ludEVsZW1lbnQiLCJMaW5lRWxlbWVudCIsIlRpdGxlIiwiVG9vbHRpcCIsIkxlZ2VuZCIsIkhpc3RvcnkiLCJtaW4iLCJtYXgiLCJwcmljZUhpc3RvcnkiLCJ1c2VSZWNvaWxWYWx1ZSIsIkxFTkdUSCIsImxhYmVscyIsIkFycmF5IiwiZmlsbCIsImlzRGFya21vZGUiLCJkYXRhc2V0cyIsImJvcmRlckNvbG9yIiwidGVuc2lvbiIsInRvRml4ZWQiLCJ1cCIsInBlcmNlbnQiLCJMaW5lIiwicmVzcG9uc2l2ZSIsIm1haW50YWluQXNwZWN0UmF0aW8iLCJwbHVnaW5zIiwibGVnZW5kIiwidG9vbHRpcCIsImNhbGxiYWNrcyIsImN0eCIsInNjYWxlcyIsInRpY2tzIiwiY2FsbGJhY2siLCJncmlkIiwieCIsImZvbnRXZWlnaHQiLCJ0ZW1wbGF0ZU9iamVjdF8yIiwiQmFsYW5jZUxpc3QiLCJMaXN0IiwidG9TdHJpbmciLCJDdXJyZW5jeUJpdGNvaW4iLCJCdXlEaWFsb2d1ZSIsImNsb3NlIiwiYW1vdW50Iiwic2V0QW1vdW50IiwiZXJyb3IiLCJzZXRFcnJvciIsImN1cnJlbnRSYXRlIiwic2V0QmFsYW5jZSIsInVzZVNldFJlY29pbFN0YXRlIiwiRGlhbG9nVGl0bGUiLCJEaWFsb2dDb250ZW50IiwicGFyc2VGbG9hdCIsIlRleHRGaWVsZCIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwiSW5wdXRQcm9wcyIsInN0YXJ0QWRvcm5tZW50IiwiSW5wdXRBZG9ybm1lbnQiLCJEaWFsb2dBY3Rpb25zIiwiQnV0dG9uIiwib25DbGljayIsIm51bWJlciIsImZldGNoTnVpIiwicmVzcCIsInN0YXR1cyIsInJlYXNvbiIsIm5ld0JhbCIsIlNlbGxEaWFsb2d1ZSIsIlRyYWRlRGlhbG9ndWUiLCJzb3VyY2UiLCJzZXRTb3VyY2UiLCJfZCIsIkZvcm1Hcm91cCIsImlkIiwicGFyc2VJbnQiLCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsIlBvcnRmb2xpbyIsImJ1eU9wZW4iLCJzZXRCdXlPcGVuIiwic2VsbE9wZW4iLCJzZXRTZWxsT3BlbiIsInRyYWRlT3BlbiIsInNldFRyYWRlT3BlbiIsIlBhcGVyIiwiQ29udHJvbEJ1dHRvbnMiLCJEaWFsb2ciLCJoaWRlQmFja2Ryb3AiLCJkaXNhYmxlUG9ydGFsIiwiQWN0aW9uQnV0dG9uIiwiQnV0dG9uQ29udGFpbmVyIiwiZW5kSWNvbiIsIlNlbGwiLCJpY29ucyIsImJvdWdodCIsInNvbGQiLCJ0cmFuc2ZlcnJlZCIsImhlYWRpbmdzIiwiZ2V0TGlzdEl0ZW1UZXh0IiwiaXNSZWNlaXZpbmciLCJUcmFuc2FjdGlvbnMiLCJ1c2VSZWNvaWxTdGF0ZSIsInNldERhdGEiLCJ1c2VFZmZlY3QiLCJmbGV4RGlyZWN0aW9uIiwic3F1YXJlIiwiZGVuc2UiLCJvdmVyZmxvd1kiLCJvdmVyZmxvd1giLCJtYXAiLCJpbmRleCJdLCJzb3VyY2VSb290IjoiIn0=