"use strict";(self.webpackChunknpwd_app=self.webpackChunknpwd_app||[]).push([[250],{8333:(e,n,t)=>{var r=t(4836);n.Z=void 0;var o=r(t(4938)),a=t(5893),c=(0,o.default)((0,a.jsx)("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"}),"Work");n.Z=c},4121:(e,n,t)=>{t.d(n,{T:()=>c});var r=t(2950),o=t.n(r),a=t(8333),c=function(){return o().createElement(a.Z,{fontSize:"large"})}},9250:(e,n,t)=>{t.r(n),t.d(n,{externalAppConfig:()=>c,default:()=>i});var r=t(4023),o=t(4121),a=t(4274),c=function(){return{id:"services",nameLocale:"Services",color:"#fff",backgroundColor:"#333",path:"/services",icon:o.T,app:r.Z,theme:a.rS}};const i=c},4023:(e,n,t)=>{t.d(n,{Z:()=>x});var r,o,a=t(2950),c=t.n(a),i=t(5475),l=t(6235),u=t(3839),s=t.n(u),f=t(8440),d=t(4810),p=t(5974),h=t(6867),m=t(2658),v=t(4669),b=t(7405),y=t(7905),g=function(){return g=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},g.apply(this,arguments)},k=s().div(Z||(r=["\n  flex: 1;\n  padding: 1.5rem;\n  display: flex;\n  box-sizing: border-box;\n  flex-direction: column;\n  overflow: auto;\n  max-height: 100%;\n  background-color: #fafafa;\n  ","\n"],o=["\n  flex: 1;\n  padding: 1.5rem;\n  display: flex;\n  box-sizing: border-box;\n  flex-direction: column;\n  overflow: auto;\n  max-height: 100%;\n  background-color: #fafafa;\n  ","\n"],Object.defineProperty?Object.defineProperty(r,"raw",{value:o}):r.raw=o,Z=r),(function(e){return e.isDarkMode&&"\n    background-color: #212121;\n  "})),w=function(e){var n=(0,l.useHistory)(),t=(0,a.useState)([]),r=t[0],o=t[1],i=(0,a.useState)(null),u=i[0],s=i[1],g="dark"===e.theme.palette.mode;return(0,a.useEffect)((function(){(0,b.Z)("npwd:services:getPlayers").then((function(e){o(e.data)}))}),[]),(0,a.useEffect)((function(){if(r){var e=null==r?void 0:r.reduce((function(e,n){return e[n.job]||(e[n.job]=[]),e[n.job].push(n),e}),{});s(e)}}),[r]),c().createElement(d.Z,{injectFirst:!0},c().createElement(p.Z,{theme:e.theme},c().createElement(k,{isDarkMode:g},c().createElement(f.h,null,c().createElement(h.Z,{color:"primary",onClick:function(){return n.goBack()}},c().createElement(v.Z,null)),c().createElement(m.Z,{fontSize:24,color:"primary",fontWeight:"bold"},"Services")),u&&c().createElement(y.W,{isDarkMode:g,players:u}))))};const x=function(e){return c().createElement(i.NuiProvider,null,c().createElement(w,g({},e)))};var Z},4274:(e,n,t)=>{t.d(n,{rS:()=>i});var r=t(3486),o=t(6115),a=r.Z[500],c=o.Z.white,i={palette:{primary:{main:a,dark:r.Z[700],light:r.Z[300],contrastText:c},secondary:{main:"#d32f2f",light:"#eb4242",dark:"#941212",contrastText:c},success:{main:"#2196f3",contrastText:c}}}},7905:(e,n,t)=>{t.d(n,{W:()=>h});var r=t(1508),o=t(2440),a=t(8277),c=t(8898),i=t(5266),l=t(6867),u=t(8584),s=t(2950),f=t.n(s),d=t(1145),p=t(7405),h=function(e){var n=e.players,t=e.isDarkMode,h=(0,s.useState)(null),m=h[0],v=h[1];return f().createElement(r.Z,null,Object.keys(n).map((function(e){return f().createElement(o.Z,{subheader:f().createElement(a.Z,{sx:{cursor:"pointer"},onClick:function(){v(e)}},e.toUpperCase())},f().createElement(c.Z,{in:m===e},n[e].map((function(e){return f().createElement(i.ZP,{secondaryAction:f().createElement(l.Z,{onClick:function(){return n=e.phoneNumber,t=e.job,void(0,p.Z)("npwd:services:callPlayer",{number:n,job:t}).then((function(e){console.log(e.data)}));var n,t}},f().createElement(d.Z,null))},f().createElement(u.Z,{primaryTypographyProps:{color:t?"#fff":"#000",fontWeight:"bold"},primary:e.name,secondary:e.phoneNumber}))}))))})))}},8440:(e,n,t)=>{t.d(n,{h:()=>o});var r=t(3839),o=t.n(r)()("div")({width:"100%",justifyContent:"flex-start",display:"flex",alignItems:"center",gap:20,marginBottom:20})},7405:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(5181);const o=function(e,n,t){return o=this,a=void 0,i=function(){var o;return function(e,n){var t,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=n.call(e,c)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(a){switch(a.label){case 0:return o={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)},(0,r.Id)()&&t?[2,t]:[4,fetch("https://".concat("npwd_services","/").concat(e),o)];case 1:return[4,a.sent().json()];case 2:return[2,a.sent()]}}))},new((c=void 0)||(c=Promise))((function(e,n){function t(e){try{l(i.next(e))}catch(e){n(e)}}function r(e){try{l(i.throw(e))}catch(e){n(e)}}function l(n){var o;n.done?e(n.value):(o=n.value,o instanceof c?o:new c((function(e){e(o)}))).then(t,r)}l((i=i.apply(o,a||[])).next())}));var o,a,c,i}},5181:(e,n,t)=>{t.d(n,{Id:()=>r});var r=function(){return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BUEFOLEVBQVUsQ0FDTnNCLE9BQVEsT0FDUkMsUUFBUyxDQUNMLGVBQWdCLG1DQUVwQnRCLEtBQU11QixLQUFLQyxVQUFVN0UsS0FFckIsV0FBa0JnRCxFQUNYLENBQUMsRUFBY0EsR0FHbkIsQ0FBQyxFQUFhOEIsTUFBTSxXQUFXQyxPQUR2QixnQkFDNEMsS0FBS0EsT0FBT2hDLEdBQVlLLElBQ3ZGLEtBQUssRUFFRCxNQUFPLENBQUMsRUFERHJFLEVBQUc0RSxPQUNnQnFCLFFBQzlCLEtBQUssRUFFRCxNQUFPLENBQUMsRUFETWpHLEVBQUc0RSxhQWhFMUIsS0FGZ0VzQixPQTZDeEMsS0EzQ2JBLEVBQUlDLFdBQVUsU0FBVUMsRUFBU0MsR0FDL0MsU0FBU0MsRUFBVXZHLEdBQVMsSUFBTTBGLEVBQUtyQixFQUFVVyxLQUFLaEYsSUFBVyxNQUFPeUYsR0FBS2EsRUFBT2IsSUFDcEYsU0FBU2UsRUFBU3hHLEdBQVMsSUFBTTBGLEVBQUtyQixFQUFpQixNQUFFckUsSUFBVyxNQUFPeUYsR0FBS2EsRUFBT2IsSUFDdkYsU0FBU0MsRUFBS2UsR0FKbEIsSUFBZXpHLEVBSWF5RyxFQUFPbEIsS0FBT2MsRUFBUUksRUFBT3pHLFFBSjFDQSxFQUl5RHlHLEVBQU96RyxNQUpoREEsYUFBaUJtRyxFQUFJbkcsRUFBUSxJQUFJbUcsR0FBRSxTQUFVRSxHQUFXQSxFQUFRckcsT0FJVGdCLEtBQUt1RixFQUFXQyxHQUNsR2QsR0FBTXJCLEVBQVlBLEVBQVUxRSxNQUFNd0UsRUFBU0MsR0FBYyxLQUFLWSxXQU4xQixJQUFVYixFQUFTQyxFQUFZK0IsRUFBRzlCLEksaUNDQXZFLElBQUlxQyxFQUFlLFdBQ3RCLE9BQU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucHdkLWFwcC8uL25vZGVfbW9kdWxlcy9AbXVpL2ljb25zLW1hdGVyaWFsL1dvcmsuanMiLCJ3ZWJwYWNrOi8vbnB3ZC1hcHAvLi9pY29uLnRzeCIsIndlYnBhY2s6Ly9ucHdkLWFwcC8uL25wd2QuY29uZmlnLnRzIiwid2VicGFjazovL25wd2QtYXBwLy4vc3JjL0FwcC50c3giLCJ3ZWJwYWNrOi8vbnB3ZC1hcHAvLi9zcmMvYXBwLnRoZW1lLnRzIiwid2VicGFjazovL25wd2QtYXBwLy4vc3JjL2NvbXBvbmVudHMvUGxheWVyc0xpc3QudHN4Iiwid2VicGFjazovL25wd2QtYXBwLy4vc3JjL3N0eWxlcy9oZWFkZXIuc3R5bGVzLnRzIiwid2VicGFjazovL25wd2QtYXBwLy4vc3JjL3V0aWxzL2ZldGNoTnVpLnRzIiwid2VicGFjazovL25wd2QtYXBwLy4vc3JjL3V0aWxzL21pc2MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2NyZWF0ZVN2Z0ljb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZVN2Z0ljb25cIikpO1xuXG52YXIgX2pzeFJ1bnRpbWUgPSByZXF1aXJlKFwicmVhY3QvanN4LXJ1bnRpbWVcIik7XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfY3JlYXRlU3ZnSWNvbi5kZWZhdWx0KSggLyojX19QVVJFX18qLygwLCBfanN4UnVudGltZS5qc3gpKFwicGF0aFwiLCB7XG4gIGQ6IFwiTTIwIDZoLTRWNGMwLTEuMTEtLjg5LTItMi0yaC00Yy0xLjExIDAtMiAuODktMiAydjJINGMtMS4xMSAwLTEuOTkuODktMS45OSAyTDIgMTljMCAxLjExLjg5IDIgMiAyaDE2YzEuMTEgMCAyLS44OSAyLTJWOGMwLTEuMTEtLjg5LTItMi0yem0tNiAwaC00VjRoNHYyelwiXG59KSwgJ1dvcmsnKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBXb3JrSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1dvcmsnO1xuZXhwb3J0IHZhciBTZXJ2aWNlc0ljb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV29ya0ljb24sIHsgZm9udFNpemU6IFwibGFyZ2VcIiB9KTtcbn07XG4iLCJpbXBvcnQgQXBwIGZyb20gJy4vc3JjL0FwcCc7XG5pbXBvcnQgeyBTZXJ2aWNlc0ljb24gfSBmcm9tICcuL2ljb24nO1xuaW1wb3J0IHsgdGhlbWUgfSBmcm9tICcuL3NyYy9hcHAudGhlbWUnO1xuZXhwb3J0IHZhciBleHRlcm5hbEFwcENvbmZpZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7XG4gICAgaWQ6ICdzZXJ2aWNlcycsXG4gICAgbmFtZUxvY2FsZTogJ1NlcnZpY2VzJyxcbiAgICBjb2xvcjogJyNmZmYnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyMzMzMnLFxuICAgIHBhdGg6ICcvc2VydmljZXMnLFxuICAgIGljb246IFNlcnZpY2VzSWNvbixcbiAgICBhcHA6IEFwcCxcbiAgICB0aGVtZTogdGhlbWUsXG59KTsgfTtcbmV4cG9ydCBkZWZhdWx0IGV4dGVybmFsQXBwQ29uZmlnO1xuIiwidmFyIF9fbWFrZVRlbXBsYXRlT2JqZWN0ID0gKHRoaXMgJiYgdGhpcy5fX21ha2VUZW1wbGF0ZU9iamVjdCkgfHwgZnVuY3Rpb24gKGNvb2tlZCwgcmF3KSB7XG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cbiAgICByZXR1cm4gY29va2VkO1xufTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE51aVByb3ZpZGVyIH0gZnJvbSAncmVhY3QtZml2ZW0taG9va3MnO1xuaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBIZWFkZXIgfSBmcm9tICcuL3N0eWxlcy9oZWFkZXIuc3R5bGVzJztcbmltcG9ydCB7IEljb25CdXR0b24sIFN0eWxlZEVuZ2luZVByb3ZpZGVyLCBUaGVtZVByb3ZpZGVyLCBUeXBvZ3JhcGh5IH0gZnJvbSAnQG11aS9tYXRlcmlhbCc7XG5pbXBvcnQgeyBBcnJvd0JhY2sgfSBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsJztcbmltcG9ydCBmZXRjaE51aSBmcm9tICcuL3V0aWxzL2ZldGNoTnVpJztcbmltcG9ydCB7IFBsYXllcnNMaXN0IH0gZnJvbSAnLi9jb21wb25lbnRzL1BsYXllcnNMaXN0JztcbnZhciBDb250YWluZXIgPSBzdHlsZWQuZGl2KHRlbXBsYXRlT2JqZWN0XzEgfHwgKHRlbXBsYXRlT2JqZWN0XzEgPSBfX21ha2VUZW1wbGF0ZU9iamVjdChbXCJcXG4gIGZsZXg6IDE7XFxuICBwYWRkaW5nOiAxLjVyZW07XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBvdmVyZmxvdzogYXV0bztcXG4gIG1heC1oZWlnaHQ6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbiAgXCIsIFwiXFxuXCJdLCBbXCJcXG4gIGZsZXg6IDE7XFxuICBwYWRkaW5nOiAxLjVyZW07XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBvdmVyZmxvdzogYXV0bztcXG4gIG1heC1oZWlnaHQ6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbiAgXCIsIFwiXFxuXCJdKSksIGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc0RhcmtNb2RlID0gX2EuaXNEYXJrTW9kZTtcbiAgICByZXR1cm4gaXNEYXJrTW9kZSAmJlxuICAgICAgICBcIlxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjEyMTIxO1xcbiAgXCI7XG59KTtcbnZhciBBcHAgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTtcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShbXSksIHBsYXllcnMgPSBfYVswXSwgc2V0UGxheWVycyA9IF9hWzFdO1xuICAgIHZhciBfYiA9IHVzZVN0YXRlKG51bGwpLCBtYXBwZWRQbGF5ZXJzID0gX2JbMF0sIHNldE1hcHBlZFBsYXllcnMgPSBfYlsxXTtcbiAgICB2YXIgaXNEYXJrTW9kZSA9IHByb3BzLnRoZW1lLnBhbGV0dGUubW9kZSA9PT0gJ2RhcmsnO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZldGNoTnVpKCducHdkOnNlcnZpY2VzOmdldFBsYXllcnMnKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgICBzZXRQbGF5ZXJzKHJlc3AuZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocGxheWVycykge1xuICAgICAgICAgICAgdmFyIG1hcHBlZFBsYXllciA9IHBsYXllcnMgPT09IG51bGwgfHwgcGxheWVycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWVycy5yZWR1Y2UoZnVuY3Rpb24gKHBsYXllcnNHcm91cCwgcGxheWVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXJzR3JvdXBbcGxheWVyLmpvYl0pXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcnNHcm91cFtwbGF5ZXIuam9iXSA9IFtdO1xuICAgICAgICAgICAgICAgIHBsYXllcnNHcm91cFtwbGF5ZXIuam9iXS5wdXNoKHBsYXllcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllcnNHcm91cDtcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgIHNldE1hcHBlZFBsYXllcnMobWFwcGVkUGxheWVyKTtcbiAgICAgICAgfVxuICAgIH0sIFtwbGF5ZXJzXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZEVuZ2luZVByb3ZpZGVyLCB7IGluamVjdEZpcnN0OiB0cnVlIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlbWVQcm92aWRlciwgeyB0aGVtZTogcHJvcHMudGhlbWUgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyLCB7IGlzRGFya01vZGU6IGlzRGFya01vZGUgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlciwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IGNvbG9yOiBcInByaW1hcnlcIiwgb25DbGljazogZnVuY3Rpb24gKCkgeyByZXR1cm4gaGlzdG9yeS5nb0JhY2soKTsgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChBcnJvd0JhY2ssIG51bGwpKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IGZvbnRTaXplOiAyNCwgY29sb3I6IFwicHJpbWFyeVwiLCBmb250V2VpZ2h0OiBcImJvbGRcIiB9LCBcIlNlcnZpY2VzXCIpKSxcbiAgICAgICAgICAgICAgICBtYXBwZWRQbGF5ZXJzICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGxheWVyc0xpc3QsIHsgaXNEYXJrTW9kZTogaXNEYXJrTW9kZSwgcGxheWVyczogbWFwcGVkUGxheWVycyB9KSkpKSk7XG59O1xudmFyIFdpdGhQcm92aWRlcnMgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KE51aVByb3ZpZGVyLCBudWxsLFxuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXBwLCBfX2Fzc2lnbih7fSwgcHJvcHMpKSkpOyB9O1xuZXhwb3J0IGRlZmF1bHQgV2l0aFByb3ZpZGVycztcbnZhciB0ZW1wbGF0ZU9iamVjdF8xO1xuIiwiaW1wb3J0IHsgY29tbW9uLCBncmVlbiB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwvY29sb3JzJztcbmV4cG9ydCB2YXIgQVBQX1BSSU1BUllfQ09MT1IgPSBncmVlbls1MDBdO1xuZXhwb3J0IHZhciBBUFBfVEVYVF9DT0xPUiA9IGNvbW1vbi53aGl0ZTtcbmV4cG9ydCB2YXIgdGhlbWUgPSB7XG4gICAgcGFsZXR0ZToge1xuICAgICAgICBwcmltYXJ5OiB7XG4gICAgICAgICAgICBtYWluOiBBUFBfUFJJTUFSWV9DT0xPUixcbiAgICAgICAgICAgIGRhcms6IGdyZWVuWzcwMF0sXG4gICAgICAgICAgICBsaWdodDogZ3JlZW5bMzAwXSxcbiAgICAgICAgICAgIGNvbnRyYXN0VGV4dDogQVBQX1RFWFRfQ09MT1IsXG4gICAgICAgIH0sXG4gICAgICAgIHNlY29uZGFyeToge1xuICAgICAgICAgICAgbWFpbjogJyNkMzJmMmYnLFxuICAgICAgICAgICAgbGlnaHQ6ICcjZWI0MjQyJyxcbiAgICAgICAgICAgIGRhcms6ICcjOTQxMjEyJyxcbiAgICAgICAgICAgIGNvbnRyYXN0VGV4dDogQVBQX1RFWFRfQ09MT1IsXG4gICAgICAgIH0sXG4gICAgICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgICAgIG1haW46ICcjMjE5NmYzJyxcbiAgICAgICAgICAgIGNvbnRyYXN0VGV4dDogQVBQX1RFWFRfQ09MT1IsXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG4iLCJpbXBvcnQgeyBCb3gsIExpc3RJdGVtLCBMaXN0LCBMaXN0U3ViaGVhZGVyLCBDb2xsYXBzZSwgSWNvbkJ1dHRvbiwgTGlzdEl0ZW1UZXh0LCB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBob25lSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1Bob25lJztcbmltcG9ydCBmZXRjaE51aSBmcm9tICcuLi91dGlscy9mZXRjaE51aSc7XG5leHBvcnQgdmFyIFBsYXllcnNMaXN0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHBsYXllcnMgPSBfYS5wbGF5ZXJzLCBpc0RhcmtNb2RlID0gX2EuaXNEYXJrTW9kZTtcbiAgICB2YXIgX2IgPSB1c2VTdGF0ZShudWxsKSwgY29sbGFwc2VJZCA9IF9iWzBdLCBzZXRDb2xsYXBzZUlkID0gX2JbMV07XG4gICAgdmFyIGV4cGFuZEl0ZW0gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgc2V0Q29sbGFwc2VJZChpZCk7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlQ2FsbFBsYXllciA9IGZ1bmN0aW9uIChudW1iZXIsIGpvYikge1xuICAgICAgICBmZXRjaE51aSgnbnB3ZDpzZXJ2aWNlczpjYWxsUGxheWVyJywgeyBudW1iZXI6IG51bWJlciwgam9iOiBqb2IgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgbnVsbCwgT2JqZWN0LmtleXMocGxheWVycykubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpc3QsIHsgc3ViaGVhZGVyOiBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RTdWJoZWFkZXIsIHsgc3g6IHsgY3Vyc29yOiAncG9pbnRlcicgfSwgb25DbGljazogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhwYW5kSXRlbShrZXkpOyB9IH0sIGtleS50b1VwcGVyQ2FzZSgpKSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENvbGxhcHNlLCB7IGluOiBjb2xsYXBzZUlkID09PSBrZXkgfSwgcGxheWVyc1trZXldLm1hcChmdW5jdGlvbiAocGxheWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdEl0ZW0sIHsgc2Vjb25kYXJ5QWN0aW9uOiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgb25DbGljazogZnVuY3Rpb24gKCkgeyByZXR1cm4gaGFuZGxlQ2FsbFBsYXllcihwbGF5ZXIucGhvbmVOdW1iZXIsIHBsYXllci5qb2IpOyB9IH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGhvbmVJY29uLCBudWxsKSkgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtVGV4dCwgeyBwcmltYXJ5VHlwb2dyYXBoeVByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogaXNEYXJrTW9kZSA/ICcjZmZmJyA6ICcjMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgICAgICAgICAgICAgICAgfSwgcHJpbWFyeTogcGxheWVyLm5hbWUsIHNlY29uZGFyeTogcGxheWVyLnBob25lTnVtYmVyIH0pKSk7XG4gICAgICAgIH0pKSkpOyB9KSkpO1xufTtcbiIsImltcG9ydCBzdHlsZWQgZnJvbSBcInN0eWxlZC1jb21wb25lbnRzXCI7XG5leHBvcnQgdmFyIEhlYWRlciA9IHN0eWxlZCgnZGl2Jykoe1xuICAgIHdpZHRoOiAnMTAwJScsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LXN0YXJ0JyxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgZ2FwOiAyMCxcbiAgICBtYXJnaW5Cb3R0b206IDIwLFxufSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBTaW1wbGUgd3JhcHBlciBhcm91bmQgZmV0Y2ggQVBJIHRhaWxvcmVkIGZvciBDRUYvTlVJIHVzZS5cbiAqIEBwYXJhbSBldmVudE5hbWUgLSBUaGUgZW5kcG9pbnQgZXZlbnRuYW1lIHRvIHRhcmdldFxuICogQHBhcmFtIGRhdGEgLSBEYXRhIHlvdSB3aXNoIHRvIHNlbmQgaW4gdGhlIE5VSSBDYWxsYmFja1xuICpcbiAqIEByZXR1cm4gcmV0dXJuRGF0YSAtIEEgcHJvbWlzZSBmb3IgdGhlIGRhdGEgc2VudCBiYWNrIGJ5IHRoZSBOdWlDYWxsYmFja3MgQ0IgYXJndW1lbnRcbiAqL1xuaW1wb3J0IHsgaXNFbnZCcm93c2VyIH0gZnJvbSAnLi9taXNjJztcbmZ1bmN0aW9uIGZldGNoTnVpKGV2ZW50TmFtZSwgZGF0YSwgbW9ja1Jlc3ApIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcHRpb25zLCByZXNvdXJjZU5hbWUsIHJlc3AsIHJlc3BvbnNlT2JqO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRW52QnJvd3NlcigpICYmIG1vY2tSZXNwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbW9ja1Jlc3BdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlTmFtZSA9IFwibnB3ZF9zZXJ2aWNlc1wiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaChcImh0dHBzOi8vXCIuY29uY2F0KHJlc291cmNlTmFtZSwgXCIvXCIpLmNvbmNhdChldmVudE5hbWUpLCBvcHRpb25zKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICByZXNwID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwLmpzb24oKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU9iaiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlT2JqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBmZXRjaE51aTtcbiIsImV4cG9ydCB2YXIgaXNFbnZCcm93c2VyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiAhd2luZG93Lmludm9rZU5hdGl2ZTtcbn07XG5leHBvcnQgdmFyIGdldFJlc291cmNlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gd2luZG93LkdldFBhcmVudFJlc291cmNlTmFtZSA/IHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvdy5HZXRQYXJlbnRSZXNvdXJjZU5hbWUoKSA6ICducHdkJztcbn07XG5leHBvcnQgdmFyIGJ1aWxkUmVzcE9iaiA9IGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGVycm9yTXNnKSB7IHJldHVybiAoe1xuICAgIGRhdGE6IGRhdGEsXG4gICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgZXJyb3JNc2c6IGVycm9yTXNnLFxufSk7IH07XG4iXSwibmFtZXMiOlsiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsImV4cG9ydHMiLCJfY3JlYXRlU3ZnSWNvbiIsIl9qc3hSdW50aW1lIiwiX2RlZmF1bHQiLCJkZWZhdWx0IiwianN4IiwiZCIsIlNlcnZpY2VzSWNvbiIsImZvbnRTaXplIiwiZXh0ZXJuYWxBcHBDb25maWciLCJpZCIsIm5hbWVMb2NhbGUiLCJjb2xvciIsImJhY2tncm91bmRDb2xvciIsInBhdGgiLCJpY29uIiwiYXBwIiwidGhlbWUiLCJjb29rZWQiLCJyYXciLCJfX2Fzc2lnbiIsIk9iamVjdCIsImFzc2lnbiIsInQiLCJzIiwiaSIsIm4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJ0aGlzIiwiQ29udGFpbmVyIiwidGVtcGxhdGVPYmplY3RfMSIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJfYSIsImlzRGFya01vZGUiLCJBcHAiLCJwcm9wcyIsImhpc3RvcnkiLCJ1c2VIaXN0b3J5IiwidXNlU3RhdGUiLCJwbGF5ZXJzIiwic2V0UGxheWVycyIsIl9iIiwibWFwcGVkUGxheWVycyIsInNldE1hcHBlZFBsYXllcnMiLCJwYWxldHRlIiwibW9kZSIsInVzZUVmZmVjdCIsInRoZW4iLCJyZXNwIiwiZGF0YSIsIm1hcHBlZFBsYXllciIsInJlZHVjZSIsInBsYXllcnNHcm91cCIsInBsYXllciIsImpvYiIsInB1c2giLCJpbmplY3RGaXJzdCIsIm9uQ2xpY2siLCJnb0JhY2siLCJmb250V2VpZ2h0IiwiTnVpUHJvdmlkZXIiLCJBUFBfUFJJTUFSWV9DT0xPUiIsIkFQUF9URVhUX0NPTE9SIiwicHJpbWFyeSIsIm1haW4iLCJkYXJrIiwibGlnaHQiLCJjb250cmFzdFRleHQiLCJzZWNvbmRhcnkiLCJzdWNjZXNzIiwiUGxheWVyc0xpc3QiLCJjb2xsYXBzZUlkIiwic2V0Q29sbGFwc2VJZCIsImtleXMiLCJtYXAiLCJrZXkiLCJzdWJoZWFkZXIiLCJzeCIsImN1cnNvciIsInRvVXBwZXJDYXNlIiwiaW4iLCJzZWNvbmRhcnlBY3Rpb24iLCJudW1iZXIiLCJwaG9uZU51bWJlciIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJwcmltYXJ5VHlwb2dyYXBoeVByb3BzIiwibmFtZSIsIkhlYWRlciIsIndpZHRoIiwianVzdGlmeUNvbnRlbnQiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImdhcCIsIm1hcmdpbkJvdHRvbSIsImV2ZW50TmFtZSIsIm1vY2tSZXNwIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJnZW5lcmF0b3IiLCJvcHRpb25zIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwibmV4dCIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJwb3AiLCJlIiwic3RlcCIsIl9fZ2VuZXJhdG9yIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJmZXRjaCIsImNvbmNhdCIsImpzb24iLCJQIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsImlzRW52QnJvd3NlciJdLCJzb3VyY2VSb290IjoiIn0=